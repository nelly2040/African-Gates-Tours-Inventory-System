(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5837],{47931:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat/[chat]",function(){return n(278)}])},51365:function(e,a,n){"use strict";var i,l,t,o,d,r,s,c,m,k,g,p,_,F,u,b,S,y,h,w,v,L,T,N,f,C,A,G,P,M,B,I,K,E,x,O,R,U,D,q,V,H,z,Q,W,j,X,Y,J,Z,$,ee,ea,en,ei,el,et,eo,ed,er,es,ec,em,ek;n.r(a);let eg=(i=[{defaultValue:null,kind:"LocalArgument",name:"chatCode"}],l=[{kind:"Variable",name:"chatCode",variableName:"chatCode"}],o={kind:"ScalarField",name:"creationTime"},r=[d={kind:"ScalarField",name:"botId"},t={kind:"ScalarField",name:"id"}],s=[{kind:"Literal",name:"gateName",value:"poe_web_enable_private_deleted_bots_changes_p2"}],c={kind:"ScalarField",name:"isDeleted"},m={kind:"ScalarField",name:"title"},k={kind:"ScalarField",name:"deletionState"},g={kind:"ScalarField",name:"isCreatedByPoeUserAccount"},p={kind:"ScalarField",name:"isPrivateBot"},_={kind:"ScalarField",name:"handle"},F={kind:"ScalarField",name:"canUserAccessBot"},u={kind:"ScalarField",name:"uploadFileSizeLimit"},b={kind:"ScalarField",name:"allowsImageAttachments"},h={concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[S={kind:"ScalarField",name:"numRemainingMessages"},{kind:"ScalarField",name:"shouldShowReminderBanner"},t,y={kind:"ScalarField",name:"displayMessagePointPrice"},{kind:"ScalarField",name:"remainingMessagesLimitReason"},{kind:"ScalarField",name:"balanceTooltipText"},{kind:"ScalarField",name:"balanceTooltipType"}]},w={kind:"ScalarField",name:"nickname"},v={kind:"ScalarField",name:"displayName"},L={kind:"TypeDiscriminator",abstractKey:"__isNode"},f={kind:"LinkedField",name:"picture",plural:!1,selections:[T={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[N={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},C={kind:"ScalarField",name:"translatedBotTags"},A={kind:"ScalarField",name:"introduction"},G={kind:"ScalarField",name:"messageTimeoutSecs"},P={kind:"ScalarField",name:"isApiBot"},M={kind:"ScalarField",name:"limitedAccessType"},B={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},I={kind:"ScalarField",name:"mayHaveSuggestedReplies"},K={kind:"ScalarField",name:"supportsResend"},E={kind:"ScalarField",name:"supportsRemix"},x={concreteType:"Bot",kind:"LinkedField",name:"animateToVideoBot",plural:!1,selections:[d,t,_]},O={kind:"ScalarField",name:"shouldConfirmBeforeAddingAsMember"},R={kind:"ScalarField",name:"isServerBot"},U={kind:"ScalarField",name:"supportsFileUpload"},D={kind:"ScalarField",name:"text"},q={kind:"ScalarField",name:"state"},V={kind:"ScalarField",name:"author"},H={kind:"ScalarField",name:"textLengthOnCancellation"},z={kind:"ScalarField",name:"vote"},Q={kind:"ScalarField",name:"messageId"},W={kind:"ScalarField",name:"contentType"},j={kind:"ScalarField",name:"clientNonce"},X={alias:"titleText",kind:"ScalarField",name:"title"},Y={alias:"bodyText",kind:"ScalarField",name:"body"},J={kind:"ScalarField",name:"attachmentId"},ee={concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[Z={kind:"ScalarField",name:"mimeType"},t,$={kind:"ScalarField",name:"size"}]},ea={kind:"ScalarField",name:"name"},el={kind:"InlineFragment",selections:[ei={kind:"ClientExtension",selections:[en={kind:"ScalarField",name:"isOptimistic"}]}],type:"MessageAttachment"},eo={kind:"LinkedField",name:"primaryImageSources",plural:!0,selections:et=[T,{kind:"TypeDiscriminator",abstractKey:"__isMessageFollowupActionImageSource"},{kind:"InlineFragment",selections:[t,ea,N],type:"MessageAttachment"},{kind:"InlineFragment",selections:[t,_,k,v,f],type:"Bot"},{kind:"InlineFragment",selections:[t],type:"Node",abstractKey:"__isNode"}]},er={kind:"ScalarField",name:"isInChat"},es={kind:"ScalarField",name:"sourceType"},ec={kind:"ScalarField",name:"commandType"},em={kind:"ScalarField",name:"timeoutLevel"},ek=[{kind:"Literal",name:"last",value:5}],{fragment:{argumentDefinitions:i,kind:"Fragment",name:"ChatPageQuery",selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatPageColumn_viewer"}]},{args:l,concreteType:"Chat",kind:"LinkedField",name:"chatOfCode",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatPageColumn_chat"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"ChatPageQuery",selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"enableCodePreview",args:[{kind:"Literal",name:"gateName",value:"poe_web_codeblock_preview"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_codeblock_preview")'},{alias:"enableImageViewer",args:[{kind:"Literal",name:"gateName",value:"poe_web_image_viewer"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_image_viewer")'},{alias:"enableMath",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_markdown_math"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_markdown_math")'},{kind:"ScalarField",name:"promptBotImageDomainWhitelist"},{kind:"ScalarField",name:"uid"},{alias:"poeMessageDropdownImageOptions",args:[{kind:"Literal",name:"gateName",value:"poe_message_dropdown_image_options"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_message_dropdown_image_options")'},{alias:"showMessageInfo",args:[{kind:"Literal",name:"gateName",value:"poe_show_message_cost"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_show_message_cost")'},{alias:"enableImageAttachmentsForBots",args:[{kind:"Literal",name:"gateName",value:"poe_enable_image_attachments_for_bots"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_image_attachments_for_bots")'},{alias:"enableVideoAttachmentsForBots",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_video_player"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_video_player")'},{alias:"enableAudioAttachmentsForBots",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_audio_player"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_audio_player")'},{concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[t,o]},{concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{kind:"ScalarField",name:"isActive"},t,{kind:"ScalarField",name:"expiresTime"},{kind:"ScalarField",name:"willCancelAtPeriodEnd"},{kind:"ScalarField",name:"purchaseRevocationReason"},{kind:"ScalarField",name:"planType"}]},{kind:"ScalarField",name:"isEligibleForWebSubscriptions"},{kind:"ScalarField",name:"shouldSeeWebSubscriptionAnnouncement"},{kind:"ScalarField",name:"shouldSeeAndroidSubscriptionAnnouncement"},{kind:"ScalarField",name:"shouldSeeResponseSpeedUpsell"},{alias:"subscribeEnhancedConversionProperties",args:[{kind:"Literal",name:"poePaidAcqEvent",value:"Subscribe"}],kind:"ScalarField",name:"googleTagManagerEnhancedConversionProperties",storageKey:'googleTagManagerEnhancedConversionProperties(poePaidAcqEvent:"Subscribe")'},{alias:"monthlySubscribeEnhancedConversionProperties",args:[{kind:"Literal",name:"poePaidAcqEvent",value:"MonthlySubscribe"}],kind:"ScalarField",name:"googleTagManagerEnhancedConversionProperties",storageKey:'googleTagManagerEnhancedConversionProperties(poePaidAcqEvent:"MonthlySubscribe")'},{alias:"yearlySubscribeEnhancedConversionProperties",args:[{kind:"Literal",name:"poePaidAcqEvent",value:"YearlySubscribe"}],kind:"ScalarField",name:"googleTagManagerEnhancedConversionProperties",storageKey:'googleTagManagerEnhancedConversionProperties(poePaidAcqEvent:"YearlySubscribe")'},{alias:"enableGTMEventSending",args:[{kind:"Literal",name:"gateName",value:"poe_enable_event_sending_through_google_tag_manager"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_event_sending_through_google_tag_manager")'},{alias:"isPrivateDeletedBotsChangesEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_private_deleted_bots_changes"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_private_deleted_bots_changes")'},{alias:"useNewFollowupActions",args:[{kind:"Literal",name:"gateName",value:"poe_use_new_message_followup_actions_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_new_message_followup_actions_web")'},{alias:"enableRemixButton",args:[{kind:"Literal",name:"gateName",value:"poe_remix_button_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_remix_button_web")'},{alias:"enableCompareFollowup",args:[{kind:"Literal",name:"gateName",value:"poe_enable_compare_followup_action"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_compare_followup_action")'},{alias:"enableOnlyAnimateFollowupAction",args:[{kind:"Literal",name:"gateName",value:"poe_enable_only_animate_followup_action"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_only_animate_followup_action")'},{kind:"ScalarField",name:"isEligibleToPurchaseOnAnyPlatform"},{kind:"ScalarField",name:"viewerCountryCode"},{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{kind:"ScalarField",name:"messagePointResetTime"},{kind:"ScalarField",name:"subscriberBonusGrantResetTime"},t]},{alias:"enableAttachmentTruncationToast",args:[{kind:"Literal",name:"gateName",value:"poe_enable_attachment_truncation_toast"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_attachment_truncation_toast")'},{alias:"showChatBreakMoreOptionsMenu",args:[{kind:"Literal",name:"gateName",value:"poe_web_more_discoverable_context_clear_delete"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_more_discoverable_context_clear_delete")'},{alias:"decoupleBotHandleAndName",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_handle_display_name_decoupling"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_handle_display_name_decoupling")'},t,{alias:"enableBotInfoCardOverflowMenuChanges",args:[{kind:"Literal",name:"gateName",value:"poe_enable_bot_info_card_action_bar_changes"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_bot_info_card_action_bar_changes")'},{concreteType:"Bot",kind:"LinkedField",name:"defaultBot",plural:!1,selections:r},{alias:"enableInputAreaForNoAccessBots",args:s,kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_private_deleted_bots_changes_p2")'},{alias:"isMultibotEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_multibot_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_multibot_web")'},{alias:"isFilePasteEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_file_paste"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_file_paste")'},{alias:"enableEncourageAtMention",args:[{kind:"Literal",name:"gateName",value:"poe_web_input_field_encourage_at_mention"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_input_field_encourage_at_mention")'},{alias:"showNewChatButton",args:[{kind:"Literal",name:"gateName",value:"poe_web_more_discoverable_create_new_chat_button"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_more_discoverable_create_new_chat_button")'},{alias:"enableNewChatButtonForNoAccessBots",args:s,kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_private_deleted_bots_changes_p2")'},{alias:"enablePayByContext",args:[{kind:"Literal",name:"gateName",value:"poe_enable_pay_by_context"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_pay_by_context")'}]},{args:l,concreteType:"Chat",kind:"LinkedField",name:"chatOfCode",plural:!1,selections:[c,m,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[k,{kind:"ScalarField",name:"viewerIsCreator"},g,p,{kind:"ScalarField",name:"viewerIsFollower"},{kind:"ScalarField",name:"followerCount"},t,d,{kind:"ScalarField",name:"shareLink"},_,F,{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"model"},u,b,h,w,v,{kind:"ScalarField",name:"noAccessMessage"},{kind:"ScalarField",name:"allowsClearContext"},{kind:"ScalarField",name:"conversationStarters"},{kind:"ScalarField",name:"isOfficialBot"},{kind:"ScalarField",name:"monthlyActiveUsers"},{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[c,{args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{kind:"ScalarField",name:"fullName"},{alias:"nullableHandle",kind:"ScalarField",name:"handle"},t,L]},f,{kind:"ScalarField",name:"description"},C,{kind:"ScalarField",name:"poweredBy"},{kind:"ScalarField",name:"promptPlaintext"},{kind:"ScalarField",name:"shouldHide"},A,G,P,M,B,I,K,E,x,O,R,U,{kind:"ScalarField",name:"hasMarkdownRendering"},{kind:"ScalarField",name:"isTrustedBot"},L]},{kind:"ScalarField",name:"chatId"},t,{kind:"ScalarField",name:"chatCode"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[D,q,{kind:"ScalarField",name:"attachmentTruncationState"},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[A,d,h,t,g,w,v,p,I,K,E,x,k,P,G,b,M,B,C,f,_,F,O,R,u,U,L]},V,t,H,z,Q,W,j,{kind:"LinkedField",name:"followupActions",plural:!0,selections:[T,{kind:"TypeDiscriminator",abstractKey:"__isMessageFollowupActionBase"},m,{kind:"InlineFragment",selections:[X,Y,{kind:"ScalarField",name:"sendText"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"sendAttachments",plural:!0,selections:[J,t,{kind:"InlineFragment",selections:[ee,ea,N,el],type:"Attachment",abstractKey:"__isAttachment"}]},eo,ed={kind:"LinkedField",name:"secondaryImageSources",plural:!0,selections:et},{concreteType:"MessageFollowUpTargetBotInfo",kind:"LinkedField",name:"targetBotInfo",plural:!1,selections:[er,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[t,{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[y,t,S]},d,w,v,_,O]}]},{concreteType:"SendMessageFollowupActionMessageSource",kind:"LinkedField",name:"messageSource",plural:!1,selections:[es,{kind:"ScalarField",name:"metadata"}]}],type:"SendMessageFollowupAction"},{kind:"InlineFragment",selections:[X,Y,{kind:"ScalarField",name:"prefillText"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"prefillAttachments",plural:!0,selections:[J,t,N,ea,{kind:"InlineFragment",selections:[ee,el],type:"Attachment",abstractKey:"__isAttachment"}]},eo,ed],type:"PrefillMessageFollowupAction"},{kind:"InlineFragment",selections:[X,Y,eo,ec,{concreteType:"MessageFollowUpTargetBotInfo",kind:"LinkedField",name:"targetBotInfo",plural:!1,selections:[er,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[d,w,v,{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[S,t]},t,_,O]}]}],type:"CommandMessageFollowupAction"}]},{kind:"ScalarField",name:"suggestedReplies"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[ea,N,t,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[Z,t]},J,{kind:"InlineFragment",selections:[{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[$]},el],type:"Attachment",abstractKey:"__isAttachment"}]},{concreteType:"Bot",kind:"LinkedField",name:"recommendedBots",plural:!0,selections:r},{kind:"ClientExtension",selections:[en,em]}]},{args:ek,concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[V,t,Q,o,D,q,j,W,es,{kind:"ScalarField",name:"messageStateText"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[t,J,ea,N,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[$,t,Z]},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},N,{kind:"ScalarField",name:"thumbnailUrl"}]},el],type:"Attachment",abstractKey:"__isAttachment"},ei]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[G,d,b,P,M,B,C,k,v,f,_,F,w,t,L]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[ec]},z,{kind:"ScalarField",name:"hasCitations"},H,T,{kind:"ClientExtension",selections:[en,em,{kind:"ScalarField",name:"errorMessage"}]},L]},t,{kind:"ScalarField",name:"cursor"}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]},t],storageKey:"messagesConnection(last:5)"},{args:ek,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},{kind:"ScalarField",name:"isContextOptimizationOn"},{kind:"ScalarField",name:"botMembersCount"},{kind:"ScalarField",name:"membersIncludeUntrustedBot"},ei,L]}]},params:{id:"c533137cd366ce3875681aa9c0100f6925e72d7535472849db62d8392cc1c5c2",metadata:{},name:"ChatPageQuery",operationKind:"query",text:null}});eg.hash="b4b89429f725614aa85a3ad09fb33221",a.default=eg},278:function(e,a,n){"use strict";n.r(a);var i=n(85893);n(44311);var l=n(7634),t=n(59583),o=n(57138),d=n(50530);let r=(0,t.T)(e=>{let{chatOfCode:a,viewer:n}=e;return(0,i.jsx)(l.h,{chat:a,viewer:n})},{query:n(51365),variables:e=>{let a=e.chat;if(!(0,d.H)(a))throw new o.NotFound;return{chatCode:a}},onServerResponse:e=>{if(!e.data)throw new o.NotFound}},{loggedInOnly:!0});a.default=r}},function(e){e.O(0,[1265,9692,1664,5675,6835,3974,8039,6793,1592,1529,4108,5190,2870,3825,7283,9357,4588,7634,2597,9774,2888,179],function(){return e(e.s=47931)}),_N_E=e.O()}]);