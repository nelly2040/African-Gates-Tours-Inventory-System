(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7044],{86867:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chats",function(){return n(57509)}])},26905:function(e,a,n){"use strict";var t,i,l,r,o,d,s,c;n.r(a);let u=(t=[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"handle"}],l=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},i={kind:"Variable",name:"handle",variableName:"handle"}],{fragment:{argumentDefinitions:t,kind:"Fragment",name:"ChatHistoryFilteredListPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},i],kind:"FragmentSpread",name:"ChatHistoryFilteredList_queryRoot"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ChatHistoryFilteredListPaginationQuery",selections:[{alias:"filteredChats",args:l,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[r={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"lastInteractionTime"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"botId"},o={kind:"ScalarField",name:"displayName"},d={kind:"ScalarField",name:"deletionState"},{kind:"LinkedField",name:"picture",plural:!1,selections:c=[s={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{alias:"smallPicture",args:[{kind:"Literal",name:"size",value:"small"}],kind:"LinkedField",name:"picture",plural:!1,selections:c,storageKey:'picture(size:"small")'},r]},{kind:"ScalarField",name:"botMembersCount"},{concreteType:"Message",kind:"LinkedField",name:"lastNonChatBreakMessage",plural:!1,selections:[{kind:"ScalarField",name:"text"},r]},s,{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}]},{kind:"ScalarField",name:"cursor"},r]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},r]},{alias:"filteredChats",args:l,filters:["handle"],handle:"connection",key:"ChatHistoryFilteredList_queryRoot_filteredChats",kind:"LinkedHandle",name:"chats"},{args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[o,d,r]}]},params:{id:"cc4d9e9b33f16fe3e5f33e23ce1d09508d4b13a50d8d929ca2396cf5a81d4fd7",metadata:{},name:"ChatHistoryFilteredListPaginationQuery",operationKind:"query",text:null}});u.hash="b3345c874d1c4fdc62d7dabdb7768b9d",a.default=u},31233:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"handle"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:t=["filteredChats"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:t},fragmentPathInResult:[],operation:n(26905)}},name:"ChatHistoryFilteredList_queryRoot",selections:[{alias:"filteredChats",args:[{kind:"Variable",name:"handle",variableName:"handle"}],concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryFilteredList_queryRoot_filteredChats_connection",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"FragmentSpread",name:"ChatHistoryPagedList_edges"},{kind:"ScalarField",name:"cursor"},{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"__typename"}]}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}]},{args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatHistoryListFilterFooter_bot"},{kind:"FragmentSpread",name:"ChatHistoryListFilterHeader_bot"}]}],type:"QueryRoot"};i.hash="b3345c874d1c4fdc62d7dabdb7768b9d",a.default=i},20039:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatHistoryListFilterFooter_bot",selections:[{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};t.hash="28febf44e9dd396e7c6da88cb2005174",a.default=t},27558:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatHistoryListFilterHeader_bot",selections:[{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};t.hash="58f3712365229316b6bb6e43f6b72e11",a.default=t},80894:function(e,a,n){"use strict";var t,i,l,r,o;n.r(a);let d={fragment:{argumentDefinitions:t=[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",name:"ChatHistoryListPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ChatHistoryList_queryRoot"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ChatHistoryListPaginationQuery",selections:[{args:i=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[l={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"lastInteractionTime"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"displayName"},{kind:"ScalarField",name:"deletionState"},{kind:"LinkedField",name:"picture",plural:!1,selections:o=[r={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{alias:"smallPicture",args:[{kind:"Literal",name:"size",value:"small"}],kind:"LinkedField",name:"picture",plural:!1,selections:o,storageKey:'picture(size:"small")'},l]},{kind:"ScalarField",name:"botMembersCount"},{concreteType:"Message",kind:"LinkedField",name:"lastNonChatBreakMessage",plural:!1,selections:[{kind:"ScalarField",name:"text"},l]},r,{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}]},{kind:"ScalarField",name:"cursor"},l]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},l]},{args:i,handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"}]},params:{id:"befdb4f06c62363987c1dee1a9f70e7ce27e786dd2fc9dc703fa522d978e3457",metadata:{},name:"ChatHistoryListPaginationQuery",operationKind:"query",text:null}};d.hash="dde16d83009bf18f7f6de7144ec92cdc",a.default=d},22256:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:t=["chats"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:t},fragmentPathInResult:[],operation:n(80894)}},name:"ChatHistoryList_queryRoot",selections:[{alias:"chats",concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryList_queryRoot_chats_connection",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"FragmentSpread",name:"ChatHistoryPagedList_edges"},{kind:"ScalarField",name:"cursor"},{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"__typename"}]}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}]}],type:"QueryRoot"};i.hash="dde16d83009bf18f7f6de7144ec92cdc",a.default=i},77502:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"handle"},{defaultValue:null,kind:"LocalArgument",name:"useBot"}],kind:"Fragment",name:"ChatHistoryMain_queryRoot",selections:[{condition:"useBot",kind:"Condition",passingValue:!1,selections:[{kind:"FragmentSpread",name:"ChatHistoryList_queryRoot"}]},{condition:"useBot",kind:"Condition",passingValue:!0,selections:[{args:[{kind:"Variable",name:"handle",variableName:"handle"}],kind:"FragmentSpread",name:"ChatHistoryFilteredList_queryRoot"},{args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"botId"}]}]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"useWriteIcon",args:[{kind:"Literal",name:"gateName",value:"poe_web_more_discoverable_create_new_chat_button"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_more_discoverable_create_new_chat_button")'}]}],type:"QueryRoot"};t.hash="81694c77d304f7713f1aa69d5204f947",a.default=t},19652:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatHistoryPagedList_edges",selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"id"},{kind:"FragmentSpread",name:"ChatHistoryListItem_chat"}]}],type:"ChatEdge"};t.hash="e6a030d05088ef01de4d75e4fc1025a8",a.default=t},75445:function(e,a,n){"use strict";var t,i,l,r,o,d,s,c,u,m,k,h;n.r(a);let p=(t=[{defaultValue:null,kind:"LocalArgument",name:"handle"},{defaultValue:null,kind:"LocalArgument",name:"useBot"}],i={kind:"Variable",name:"handle",variableName:"handle"},l={kind:"ScalarField",name:"id"},o=[r={kind:"Literal",name:"first",value:15}],k=[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[l,{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"lastInteractionTime"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[d={kind:"ScalarField",name:"botId"},s={kind:"ScalarField",name:"displayName"},c={kind:"ScalarField",name:"deletionState"},{kind:"LinkedField",name:"picture",plural:!1,selections:m=[u={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{alias:"smallPicture",args:[{kind:"Literal",name:"size",value:"small"}],kind:"LinkedField",name:"picture",plural:!1,selections:m,storageKey:'picture(size:"small")'},l]},{kind:"ScalarField",name:"botMembersCount"},{concreteType:"Message",kind:"LinkedField",name:"lastNonChatBreakMessage",plural:!1,selections:[{kind:"ScalarField",name:"text"},l]},u,{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}]},{kind:"ScalarField",name:"cursor"},l]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},l],h=[r,i],{fragment:{argumentDefinitions:t,kind:"Fragment",name:"chatsHistoryPageQuery",selections:[{args:[i,{kind:"Variable",name:"useBot",variableName:"useBot"}],kind:"FragmentSpread",name:"ChatHistoryMain_queryRoot"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"chatsHistoryPageQuery",selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"useWriteIcon",args:[{kind:"Literal",name:"gateName",value:"poe_web_more_discoverable_create_new_chat_button"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_more_discoverable_create_new_chat_button")'},l]},{condition:"useBot",kind:"Condition",passingValue:!1,selections:[{args:o,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:k,storageKey:"chats(first:15)"},{args:o,handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"}]},{condition:"useBot",kind:"Condition",passingValue:!0,selections:[{alias:"filteredChats",args:h,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:k},{alias:"filteredChats",args:h,filters:["handle"],handle:"connection",key:"ChatHistoryFilteredList_queryRoot_filteredChats",kind:"LinkedHandle",name:"chats"},{args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,c,l,d]}]}]},params:{id:"e8638b5819c6baab6894bf22f945f995c6d38382b1866b7c0cae738e1c941ab2",metadata:{},name:"chatsHistoryPageQuery",operationKind:"query",text:null}});p.hash="644c3d8a9763c5519f4571d7a689ec86",a.default=p},42050:function(e,a,n){"use strict";var t=n(85893),i=n(30791),l=n(34616),r=n(74929),o=n(37115),d=n(11781),s=n.n(d);a.Z=e=>{let{header:a,startAtBottom:n,children:d,disallowScroll:c,noMaxWidth:u=!1}=e,{elementProps:m,providerProps:k}=(0,i.GO)(),h=(0,o.F)(),p=!(0,r.k6)(h)&&s().scrollSectionOverflow;return(0,t.jsxs)(t.Fragment,{children:[a,(0,t.jsx)(i.yp,{...k,children:(0,t.jsx)("div",{className:(0,l.$)(s().scrollSection,n&&s().startAtBottom,p,c&&s().disallowScroll),...m,children:(0,t.jsx)("div",{className:(0,l.$)(s().column,u&&s().noMaxWidth),children:d})})})]})}},75658:function(e,a,n){"use strict";var t=n(85893),i=n(42116),l=n(44254);a.Z=e=>(0,t.jsx)(l.Z,{leftNavItem:(0,t.jsx)(i.Z,{}),...e})},16392:function(e,a,n){"use strict";n.d(a,{C:function(){return usePagingTriggerRef}});var t=n(85893),i=n(67294),l=n(34616),r=n(13333),o=n.n(r),d=n(30791);let usePagingTriggerRef=e=>{let{loadMore:a,canLoadMore:n,rootMargin:t,scrollRootRef:l}=e,r=i.useRef(null),o=(0,d.Oi)(),s=void 0!==l?l:o;return(0,i.useEffect)(()=>{var e;if(!r.current||!n)return;let i=new IntersectionObserver(e=>{e[0].isIntersecting&&a()},{root:null!==(e=null==s?void 0:s.current)&&void 0!==e?e:null,threshold:0,rootMargin:t});return i.observe(r.current),()=>{i.disconnect()}},[a,n,t,s]),r},calcRootMargin=(e,a,n)=>"".concat(!a&&n?e:0,"px ").concat(a&&!n?e:0,"px ")+"".concat(a||n?0:e,"px ").concat(a&&n?e:0,"px"),s=i.forwardRef(function(e,a){let{children:n,className:i,loadMore:r,hasMore:d,isLoading:s,loadingState:c=null,error:u,errorState:m=null,threshold:k,horizontal:h=!1,reverse:p=!1,scrollRootRef:g}=e,y=usePagingTriggerRef({loadMore:r,canLoadMore:d&&!s&&!u,rootMargin:calcRootMargin(k,h,p),scrollRootRef:g}),_=u?m:(0,t.jsx)("div",{ref:y,className:o().pagingTrigger,children:s&&c});return(0,t.jsxs)("div",{ref:a,className:(0,l.$)(o().container,h&&o().horizontal,i),children:[p&&_,n,!p&&_]})});a.Z=s},22019:function(e,a,n){"use strict";var t=n(85893),i=n(67294),l=n(34616),r=n(65886),o=n.n(r);let d=(0,i.forwardRef)((e,a)=>{let{label:n,icon:r,avatar:d,isActive:s=!1,className:c,...u}=e,cloneAndSetSize=(e,a)=>e?i.cloneElement(e,{size:a}):null,m=(0,l.$)(o().root,s&&o().isActive,r&&o().icon,d&&o().avatar,c);return(0,t.jsx)("button",{ref:a,className:m,type:"button",...u,children:(0,t.jsxs)("span",{className:o().inner,children:[r&&cloneAndSetSize(r,"sm"),d&&cloneAndSetSize(d,"x-sm"),n]})})});d.displayName="Chip",a.Z=d},57509:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return P}});var t=n(85893),i=n(22120);n(44311);var l=n(11163),r=n(67294),o=n(22578),d=n(19029),s=n(6488),c=n(69295),u=n(37650),m=n(60841),k=n.n(m),chat_ChatHistoryListFilterFooter=e=>{let{bot:a,clearFilter:l,noResults:r=!1}=e,d=(0,o.useFragment)(n(20039),a),s=(0,u.dC)(d),{t:m}=(0,i.$G)(),h=m(r?"You don't have any chats that include {{displayName}}.":"You've viewed all chats that include {{displayName}}.",{displayName:s});return(0,t.jsxs)("div",{className:k().container,children:[d&&(0,t.jsx)("p",{children:h}),(0,t.jsx)(c.oM,{onClick:l,children:m("Clear filter")})]})},h=n(22019),p=n(88478),g=n.n(p),chat_ChatHistoryListFilterHeader=e=>{let{bot:a,clearFilter:l}=e,r=(0,o.useFragment)(n(27558),a),{t:d}=(0,i.$G)(),s=(0,u.dC)(r);return(0,t.jsxs)("div",{className:g().container,children:[r&&(0,t.jsx)(h.Z,{label:s,isActive:!0}),(0,t.jsx)(c.oM,{onClick:l,children:d("Clear filter")})]})},y=n(16392),_=n(53231),F=n.n(_),f=n(91731),chat_ChatHistoryPagedList=e=>{let{edges:a,loadNext:i,hasNext:l,isLoadingNext:d}=e,s=(0,o.useFragment)(n(19652),a),[c,u]=(0,r.useState)(null),m=(0,r.useCallback)(()=>{i(10,{onComplete:e=>{e&&u(e)}})},[i]);return(0,t.jsx)(y.Z,{className:F().mainSection,loadMore:m,hasMore:l,isLoading:d,error:!!c,threshold:1e3,children:s.map(e=>(0,t.jsx)(f.Z,{chat:e.node},e.node.id))})},chat_ChatHistoryFilteredList=e=>{let{root:a,onFilterClear:i}=e,{data:l,loadNext:d,hasNext:s,isLoadingNext:c}=(0,o.usePaginationFragment)(n(31233),a),[u,m]=(0,r.useState)(!0),k=(0,r.useCallback)(()=>{m(!1),null==i||i()},[i]);return(0,t.jsxs)("div",{children:[u&&(0,t.jsx)(chat_ChatHistoryListFilterHeader,{bot:l.bot,clearFilter:k}),(0,t.jsx)(chat_ChatHistoryPagedList,{edges:l.filteredChats.edges,loadNext:d,hasNext:s,isLoadingNext:c}),u&&(0,t.jsx)(chat_ChatHistoryListFilterFooter,{bot:l.bot,clearFilter:k,noResults:0===l.filteredChats.edges.length})]})},b=n(47392),C=n(60130),L=n(52779),S=n.n(L),chat_ChatHistoryList=e=>{let{root:a,setRefetchFullList:l,useOldPlusIcon:d}=e,{data:s,loadNext:u,hasNext:m,isLoadingNext:k,refetch:h}=(0,o.usePaginationFragment)(n(22256),a),{t:p}=(0,i.$G)();return((0,r.useEffect)(()=>{h&&l(h)},[l,h]),0===s.chats.edges.length)?(0,t.jsxs)("div",{className:S().emptyContainer,children:[(0,t.jsx)("p",{children:p("You don't have any chats.")}),(0,t.jsx)(c.oM,{href:"/",icon:d?(0,t.jsx)(b.Z,{}):(0,t.jsx)(C.Z,{}),children:p("New chat")})]}):(0,t.jsx)(chat_ChatHistoryPagedList,{edges:s.chats.edges,loadNext:u,hasNext:m,isLoadingNext:k})},chat_ChatHistoryMain=e=>{var a,i;let{root:c}=e,u=(0,o.useFragment)(n(77502),c),[m,k]=(0,r.useState)(),h=(0,l.useRouter)(),p=(0,r.useCallback)(()=>{var e;m?(h.replace("/chats",void 0,{shallow:!0}),m({})):h.push("/chats"),(0,d.Z)("poe/action_log",{action_type:s.Z.clear_chat_history_page_filter,bot_id:null===(e=u.bot)||void 0===e?void 0:e.botId})},[null===(a=u.bot)||void 0===a?void 0:a.botId,m,h]);return(null===(i=u.bot)||void 0===i?void 0:i.botId)?(0,t.jsx)(chat_ChatHistoryFilteredList,{root:u,onFilterClear:p}):(0,t.jsx)(chat_ChatHistoryList,{root:u,setRefetchFullList:k,useOldPlusIcon:!u.viewer.useWriteIcon})},v=n(42050),x=n(75658),N=n(50515),H=n(59583),T=n(50530);let I=(0,H.T)(e=>{let{t:a}=(0,i.$G)();return(0,t.jsxs)(v.Z,{header:(0,t.jsx)(x.Z,{title:a("All chats")}),children:[(0,t.jsx)(N.Z,{title:a("All chats")}),(0,t.jsx)(chat_ChatHistoryMain,{root:e})]})},{query:n(75445),variables:e=>{let a=e.bot;return(0,T.H)(a)?{handle:a,useBot:!0}:{handle:"",useBot:!1}}},{loggedInOnly:!0});var P=I},65886:function(e){e.exports={root:"chip_root__VqoGT",isActive:"chip_isActive__lp306",inner:"chip_inner__tuTk3",icon:"chip_icon__wpnzD",avatar:"chip_avatar__TkpUY"}},52779:function(e){e.exports={emptyContainer:"ChatHistoryList_emptyContainer__ju5Ha"}},60841:function(e){e.exports={container:"ChatHistoryListFilterFooter_container__KMEvP"}},88478:function(e){e.exports={container:"ChatHistoryListFilterHeader_container__E8CjK"}},53231:function(e){e.exports={mainSection:"ChatHistoryPagedList_mainSection__h7IQR"}},11781:function(e){e.exports={scrollSection:"MainColumn_scrollSection__A9NHB",scrollSectionOverflow:"MainColumn_scrollSectionOverflow__FbPqw",column:"MainColumn_column__UEunw",noMaxWidth:"MainColumn_noMaxWidth__8pWAi",disallowScroll:"MainColumn_disallowScroll__zR9H2",startAtBottom:"MainColumn_startAtBottom__KeM8B"}},13333:function(e){e.exports={container:"InfiniteScroll_container__PHsd4",horizontal:"InfiniteScroll_horizontal__i7SXE",pagingTrigger:"InfiniteScroll_pagingTrigger__cdz9I"}}},function(e){e.O(0,[9692,1664,5675,6835,3974,6793,1592,1529,4108,5190,9774,2888,179],function(){return e(e.s=86867)}),_N_E=e.O()}]);