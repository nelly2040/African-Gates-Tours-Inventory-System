(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4588],{58406:function(e,t,a){"use strict";var n,i,r=a(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",_extends({viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=r.createElement("path",{d:"M18.073 13.588a.876.876 0 0 0-.771-.462h-2.427V9.043a.874.874 0 0 0-1.603-.486L9.97 13.516a.874.874 0 0 0 .728 1.36h2.427v4.083a.874.874 0 0 0 1.604.486l3.302-4.96a.875.875 0 0 0 .043-.898l-.001.001Z"})),i||(i=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 4.667A9.332 9.332 0 0 0 4.667 14 9.332 9.332 0 0 0 14 23.333a9.307 9.307 0 0 0 6.794-2.933l-1.372.193a1.167 1.167 0 0 1-.326-2.31l3.89-.547a1.167 1.167 0 0 1 1.492 1.12l.547 3.895a1.167 1.167 0 0 1-2.31.326l-.161-1.144a11.636 11.636 0 0 1-8.555 3.734C7.555 25.667 2.332 20.443 2.332 14S7.556 2.333 14 2.333c6.444 0 11.667 5.224 11.667 11.667a1.167 1.167 0 0 1-2.334 0A9.332 9.332 0 0 0 14 4.667Z"})))}},53968:function(e,t,a){"use strict";var n,i=a(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return i.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.614 4.211a1 1 0 0 1 .175 1.403L10.607 18.691a1 1 0 0 1-1.496.093l-5.818-5.819a1 1 0 1 1 1.414-1.414l5.018 5.018L19.21 4.386a1 1 0 0 1 1.403-.175Z"})))}},51008:function(e,t,a){"use strict";var n,i=a(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return i.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12.023 2.5a.997.997 0 0 1 .809.445c.675 1.012 1.522 1.71 2.547 2.13.861.352 1.866.283 3.122-.441A1 1 0 0 1 20 5.5v9c0 .116-.02.23-.059.339a8.857 8.857 0 0 1-2.811 3.938c-1.266 1.026-2.863 1.905-4.763 2.653a.998.998 0 0 1-.733 0c-1.9-.748-3.497-1.628-4.763-2.653a8.857 8.857 0 0 1-2.811-3.938A.98.98 0 0 1 4 14.5v-9a1 1 0 0 1 1.459-.888c1.405.726 2.413.776 3.155.466.916-.383 1.781-1.083 2.58-2.17.194-.263.503-.415.829-.408Z"})))}},65492:function(e,t,a){"use strict";var n,i=a(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return i.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12.023 2.5a.997.997 0 0 1 .809.445c.675 1.012 1.522 1.71 2.547 2.13.861.352 1.866.283 3.122-.441A1 1 0 0 1 20 5.5v9c0 .116-.02.23-.059.339a8.857 8.857 0 0 1-2.811 3.938c-1.266 1.026-2.863 1.905-4.763 2.653a.998.998 0 0 1-.733 0c-1.9-.748-3.497-1.628-4.763-2.653a8.857 8.857 0 0 1-2.811-3.938A.98.98 0 0 1 4 14.5v-9a1 1 0 0 1 1.459-.888c1.405.726 2.413.776 3.155.466.916-.383 1.781-1.083 2.58-2.17.194-.263.503-.415.829-.408ZM12 19.422c1.595-.658 2.878-1.395 3.871-2.199A6.863 6.863 0 0 0 18 14.32V7.032c-1.141.353-2.279.343-3.379-.107a7.366 7.366 0 0 1-2.643-1.838L12 19.422Z"})))}},37242:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",name:"BotInfoCard_ActionBarPrimaryButton_bot",selections:[{kind:"InlineDataFragmentSpread",name:"setBotDetailsSidebar_bot",selections:[{kind:"FragmentSpread",name:"ChatBotDetailsSidebar_bot"}],argumentDefinitions:[]}],type:"Bot"};n.hash="98185c7bf258d6f04147a378d1854b72",t.default=n},9064:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",name:"BotInfoCard_bot",selections:[{kind:"FragmentSpread",name:"BotInfoCardHeader_bot"},{kind:"FragmentSpread",name:"BotInfoCardBody_bot"},{kind:"FragmentSpread",name:"BotInfoCardFooter_bot"},{kind:"FragmentSpread",name:"BotLink_bot"},{kind:"FragmentSpread",name:"BotInfoCardActionBar_bot"},{kind:"FragmentSpread",name:"BotInfoCard_ActionBarPrimaryButton_bot"},{kind:"FragmentSpread",name:"botHelpers_useViewerCanAccessPrivateBot"}],type:"Bot"};n.hash="fc22de20c33e8e11304bfb12da7f07ee",t.default=n},50708:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",name:"BotInfoCard_viewer",selections:[{kind:"ScalarField",name:"uid"},{kind:"FragmentSpread",name:"BotInfoCardBody_viewer"},{kind:"FragmentSpread",name:"BotInfoCardHeader_viewer"},{kind:"FragmentSpread",name:"BotInfoCardActionBar_viewer"},{alias:"isPrivateDeletedBotsChangesEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_private_deleted_bots_changes"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_private_deleted_bots_changes")'}],type:"Viewer"};n.hash="9475113fc01fe1f49cfda3c57d08ca5e",t.default=n},4386:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",name:"ChatHeaderTitleAndSettingSubscriber_chat",selections:[{kind:"ScalarField",name:"chatId"}],type:"Chat"};n.hash="c868f3c62d2dc6d634d9cf6cdfab9351",t.default=n},73390:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",name:"ChatHeader_bot",selections:[{kind:"FragmentSpread",name:"BotImage_bot"},{kind:"FragmentSpread",name:"PrivateMessageIcon_bot"},{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};n.hash="cbaab11b46b13fc7d775368525963e7d",t.default=n},23350:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",name:"ChatHeader_chat",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"isContextOptimizationOn"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatHeader_bot"}]},{kind:"ScalarField",name:"botMembersCount"},{kind:"FragmentSpread",name:"ChatHeaderTitleAndSettingSubscriber_chat"},{kind:"FragmentSpread",name:"IdAnnotation_node"},{kind:"FragmentSpread",name:"ChatPrivacyIndicatorIcon_chat"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};n.hash="0fb78a8f0789b1f69ba6905554f3f937",t.default=n},32951:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",name:"ChatHeader_viewer",selections:[{alias:"enablePayByContext",args:[{kind:"Literal",name:"gateName",value:"poe_enable_pay_by_context"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_pay_by_context")'}],type:"Viewer"};n.hash="b180463623f6b68c9caf59031705b1bf",t.default=n},81132:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",name:"ChatPageNavActionBar_bot",selections:[{kind:"ScalarField",name:"isCreatedByPoeUserAccount"},{kind:"ScalarField",name:"isPrivateBot"},{kind:"ScalarField",name:"viewerIsFollower"},{kind:"FragmentSpread",name:"BotFollowStateButton_bot"},{kind:"FragmentSpread",name:"BotShareButton_bot"},{kind:"FragmentSpread",name:"botHelpers_useDeletion_bot"}],type:"Bot"};n.hash="3bcda01ea07293f22a264cf487dd9ddc",t.default=n},89915:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",name:"ChatPageNavbar_bot",selections:[{kind:"FragmentSpread",name:"ChatPageNavActionBar_bot"},{kind:"FragmentSpread",name:"NewChatNavButton_bot"},{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"botId"}],type:"Bot"};n.hash="f25a11fb6b90d0d5b9f48c8cbac916ec",t.default=n},36035:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[{defaultValue:5,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"backward",path:["messagesConnection"]}]},name:"ChatPageNavbar_chat",selections:[{kind:"ScalarField",name:"chatId"},{alias:"messagesConnection",concreteType:"MessagesConnection",kind:"LinkedField",name:"__ChatMessagesView_chat_messagesConnection_connection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatBreak",selections:[{kind:"ScalarField",name:"author"}],argumentDefinitions:[]},{kind:"ScalarField",name:"messageId"},{kind:"ScalarField",name:"__typename"}]},{kind:"ScalarField",name:"cursor"}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]}]},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};n.hash="51d50a0a27249753fb5023245717be1d",t.default=n},92672:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",name:"ChatPageNavbar_viewer",selections:[{alias:"showNewChatButton",args:[{kind:"Literal",name:"gateName",value:"poe_web_more_discoverable_create_new_chat_button"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_more_discoverable_create_new_chat_button")'},{alias:"enableNewChatButtonForNoAccessBots",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_private_deleted_bots_changes_p2"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_private_deleted_bots_changes_p2")'}],type:"Viewer"};n.hash="aebc83f2bbb733a56f3d45557c195bc3",t.default=n},14735:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",name:"ChatPrivacyIndicatorIcon_chat",selections:[{kind:"ScalarField",name:"membersIncludeUntrustedBot"}],type:"Chat"};n.hash="8b888dce674c81f989f2353364834b74",t.default=n},36900:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",name:"ChatPrivacyIndicator_chat",selections:[{kind:"ScalarField",name:"membersIncludeUntrustedBot"},{kind:"FragmentSpread",name:"ChatPrivacyIndicatorIcon_chat"}],type:"Chat"};n.hash="6bb85817556ef339b70c6f37f9843140",t.default=n},4156:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",name:"NewChatNavButton_bot",selections:[{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"botId"},{kind:"FragmentSpread",name:"botHelpers_useViewerCanAccessPrivateBot"},{kind:"FragmentSpread",name:"botHelpers_useDeletion_bot"}],type:"Bot"};n.hash="b0a48a440292393181698cba47cdda5b",t.default=n},79682:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",name:"PrivateMessageIcon_bot",selections:[{kind:"ScalarField",name:"isTrustedBot"}],type:"Bot"};n.hash="0178a0e02b7e2e292faf6dbc2bf88d5a",t.default=n},21877:function(e,t,a){"use strict";var n=a(85893),i=a(67294),r=a(22120),o=a(22578),s=a(64811),c=a(37650),l=a(34616),d=a(59519),u=a(62124),h=a.n(u),m=a(69295),_=a(97642),b=a(953),p=a(78806),g=a(94639);let ActionBarPrimaryButton=e=>{let{bot:t}=e,c=(0,o.useFragment)(a(37242),t),{t:l}=(0,r.$G)(),u=(0,d.X)(),_=(0,i.useCallback)(()=>{u(c)},[c,u]);return(0,n.jsx)(m.PL,{icon:(0,n.jsx)(s.Z,{className:h().infoIcon}),onClick:_,children:l("Bot info")})};t.Z=e=>{let{bot:t,viewer:i,className:r,linked:s=!1,showFollowerCount:d=!1,showMonthlyActiveUserCount:u=!1,showTalkToBotButton:m=!1}=e,v=(0,o.useFragment)(a(9064),t),{uid:f,isPrivateDeletedBotsChangesEnabled:C,...x}=(0,o.useFragment)(a(50708),i),k=(0,c.nn)(v),B=s?(0,n.jsx)(g.Z,{bot:v,children:(0,n.jsx)(p.Z,{bot:v,viewer:x,showFollowerCount:d,showMonthlyActiveUserCount:u,imageSize:"md"})}):(0,n.jsx)(p.Z,{bot:v,viewer:x,showFollowerCount:d,showMonthlyActiveUserCount:u,imageSize:"md",shouldOpenSidebar:!0});return(0,n.jsxs)("div",{className:(0,l.$)(h().sectionContainer,r),children:[B,(C?k:!!f)&&(0,n.jsx)(_.Z,{className:h().actionBar,bot:v,viewer:x,primaryButton:(0,n.jsx)(ActionBarPrimaryButton,{bot:v})}),(0,n.jsx)(b.Z,{bot:v,viewer:x,showTalkToBotButton:m})]})}},58097:function(e,t,a){"use strict";a.d(t,{Z:function(){return chat_ChatHeader}});var n=a(85893),i=a(41143),r=a.n(i),o=a(67294),s=a(22120),c=a(22578),l=a(72061),d=a(2012),u=a(41019),h=a(58406),m=a(37650),_=a(34616),b=a(47986),p=a(67275),g=a(49750),v=a.n(g),f=a(47547),C=a(51008),x=a(65492),k=a(81173),B=a.n(k),bot_PrivateMessageIcon=e=>{let{bot:t,hasDescription:i=!1}=e,{isTrustedBot:r}=(0,c.useFragment)(a(79682),t),o=i?B().shieldIconHasDescription:B().shieldIcon;return(0,n.jsx)("div",{className:B().shieldContainer,children:r?(0,n.jsx)(C.Z,{className:o}):(0,n.jsx)(x.Z,{className:o})})},w=a(65869);let importChatSettingsModal=()=>a.e(9542).then(a.bind(a,79542)),ChatHeaderTitleAndSettingSubscriber=e=>{let{chat:t}=e,{chatId:n}=(0,c.useFragment)(a(4386),t);return(0,p.$3)(n),(0,p.up)(n),null};var chat_ChatHeader=e=>{let{chat:t,bot:i,viewer:p}=e;r()(t||i,"Either chat or bot must be passed in");let g=(0,c.useFragment)(a(23350),null!=t?t:null),C=(0,c.useFragment)(a(73390),(null==g?void 0:g.defaultBotObject)||i);r()(C,"Whether botData comes from the chat or is passed in, it must be available.");let x=(0,c.useFragment)(a(32951),null!=p?p:null),{isLoggedInUser:k}=(0,d.b)(),{t:B}=(0,s.$G)(),[I,F]=(0,o.useState)(!1),N=(0,o.useCallback)(()=>{F(!0)},[]),S=(0,o.useCallback)(()=>{(0,b.nL)(b.wy.ChatHeaderModalClosed),F(!1)},[]),y=(0,m.dC)(C),j=(0,o.useMemo)(()=>g?g.isOptimistic?{optimisticChatId:g.id,closeModal:S}:{chatId:g.chatId,closeModal:S}:{chatId:0,closeModal:S},[g,S]),P=(0,o.useMemo)(()=>g?(0,n.jsx)(l.S,{chat:g,hasDescription:!1}):(0,n.jsx)(bot_PrivateMessageIcon,{bot:C}),[g,C]),M=(null==g?void 0:g.botMembersCount)&&(null==g?void 0:g.botMembersCount)>1?B("botMembersText",{count:g.botMembersCount-1,displayName:y,defaultValue:"{{displayName}} and {{count}} bots",defaultValue_one:"{{displayName}} and {{count}} bot"}):y,Z=k&&g,T=g&&!g.isOptimistic&&g.isContextOptimizationOn&&x&&x.enablePayByContext;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:Z?(0,_.$)(v().boldTitle,v().clickable):v().boldTitle,...Z&&{onClick:N},children:[(0,n.jsx)(f.Z,{bot:C,size:"sm"}),(0,n.jsxs)("div",{className:v().overflow,children:[(0,n.jsx)("p",{className:(0,_.$)(v().overflow,v().textOverflow),children:(null==g?void 0:g.title)||B("New chat")}),(0,n.jsxs)("div",{className:v().subTextContainer,children:[P,T&&(0,n.jsx)(h.Z,{className:v().chatContextOptimizationIcon}),(0,n.jsx)("p",{className:v().subText,children:M})]})]})]}),g&&(0,n.jsx)(w.Z,{node:g}),(0,n.jsx)(u.Z,{isOpen:I,onRequestClose:S,body:importChatSettingsModal,bodyProps:j,modalHeight:400,useMinHeight:!0,useIncreasedHeightInCompactScreen:!0,variant:"compact"}),g&&!g.isOptimistic&&(0,n.jsx)(ChatHeaderTitleAndSettingSubscriber,{chat:g})]})}},17323:function(e,t,a){"use strict";a.d(t,{Z:function(){return chat_ChatMainNavbar}});var n=a(85893),i=a(42116),r=a(67294),o=a(22120),s=a(22578),c=a(3108),l=a.n(c),bot_BotDownBanner=()=>{let{t:e}=(0,o.$G)();return(0,n.jsx)("div",{className:l().botDownBanner,children:e("This bot is currently down.")})},d=a(2012),u=a(35409),h=a(69295),m=a(34616),_=a(73558),b=a.n(_);let SignupButton=e=>{let{signupWallTriggerSource:t,className:a}=e,{shouldShowSignupWall:i,openSignupWall:s}=(0,u.zl)(),{t:c}=(0,o.$G)(),l=(0,r.useCallback)(()=>{i&&s(t)},[i,s,t]);return(0,n.jsx)(h.DF,{onClick:l,className:(0,m.$)(b().button,a),children:(0,n.jsx)("span",{className:b().signUpText,children:c("Sign up")})})};var p=a(41019),g=a(45549),v=a(62903),f=a(39620),C=a(6997),x=a(19029),k=a(50141),B=a(10406),w=a(57031),I=a.n(w),F=a(8143),N=a(6488),S=a(44254),y=a(46296),j=a(96333),P=a.n(j),chat_ChatOfflineBanner=()=>{let{t:e}=(0,o.$G)();return(0,n.jsx)("div",{className:P().offlineBanner,children:e("You are offline.")})},M=a(37650),Z=a(13827),T=a.n(Z),D=a(83243),O=a(72211),chat_ChatPageNavActionBar=e=>{let{bot:t}=e,i=(0,s.useFragment)(a(81132),t),{isDeleted:r}=(0,M.iZ)(i);return i.isCreatedByPoeUserAccount||i.viewerIsFollower||r||i.isPrivateBot?null:(0,n.jsxs)("div",{className:T().container,children:[(0,n.jsx)(D.Z,{bot:i,variant:"flat"}),(0,n.jsx)(O.Z,{bot:i,variant:"flat"})]})},A=a(46898),H=a(60130);let NewChatNavButton=e=>{let t=(0,s.useFragment)(a(4156),e.bot),i=(0,M.nn)(t),{isDeleted:c}=(0,M.iZ)(t),{t:l}=(0,o.$G)(),d=!e.enableForNoAccessBots&&(c||!i),u=(0,r.useCallback)(()=>{(0,x.Z)("poe/action_log",{action_type:N.Z.new_chat_open,bot_id:t.botId,action_metadata:{context:F.Z.nav_bar}})},[t]);return(0,n.jsx)(A.f,{disabled:d||e.disabled,hideText:e.hideText,href:"/".concat(encodeURIComponent(t.handle)),onClick:u,icon:(0,n.jsx)(H.Z,{}),text:l("New chat")})},importShareBotOrChatModal=()=>a.e(5421).then(a.bind(a,45421));var chat_ChatPageNavbar=e=>{let{bot:t,chat:i,children:c,viewer:l,toggleSidebarButton:_,useChatTitle:b=!1,hideActionBar:w=!1}=e,j=(0,s.useFragment)(a(89915),t),P=(0,s.useFragment)(a(92672),l),M=(0,s.useFragment)(a(36035),null!=i?i:null),Z=(0,B.Z)(),{t:T}=(0,o.$G)(),[D,O]=(0,r.useState)(!1),H=(0,g.ZP)(),L=(0,r.useCallback)(()=>{O(!1)},[]),G=(0,r.useMemo)(()=>({botId:j.botId,chatId:(null==M?void 0:M.isOptimistic)?void 0:null==M?void 0:M.chatId,closeModal:L}),[j,M,L]),{selectionMode:E,setSelectionMode:V,clearSelection:U}=(0,k.ZP)(),$=(0,r.useCallback)(()=>{V(k.oW.none),U()},[V,U]),z=(0,r.useMemo)(()=>E===k.oW.none?_||(0,n.jsx)(y.Z,{}):(0,n.jsx)(h.t9,{className:I().endSelectionButton,onClick:$,children:(0,n.jsx)(f.Z,{className:I().closeIcon})}),[E,$,_]),{isLoggedInUser:R}=(0,d.b)(),W=(0,r.useCallback)(async()=>{R?(O(!0),(0,x.Z)("poe/action_log",{action_type:N.Z.share_button_click,bot_id:j.botId,chat_id:null==M?void 0:M.chatId,action_metadata:{context:F.Z.nav_bar}})):await (0,C.v)(window.location.href)?H({content:(0,n.jsx)("p",{children:T("Copied link to clipboard.")}),type:g.pC.success}):H({content:(0,n.jsx)("p",{children:T("Failed to copy link to clipboard.")}),type:g.pC.error})},[j.botId,null==M?void 0:M.chatId,R,H,T]),q=(0,r.useCallback)(e=>(0,n.jsx)(h.oM,{className:e?I().shareButton:I().noTextShareButton,onClick:W,children:(0,n.jsxs)("span",{className:I().shareTextWrapper,children:[(0,n.jsx)(v.Z,{className:I().shareIcon}),e&&(0,n.jsx)("span",{className:I().shareText,children:T("Share")})]})}),[W,T]),K=!R,Y=(0,r.useMemo)(()=>(0,n.jsx)("span",{className:(0,m.$)(I().rightNavItemWrapper,!(null==P?void 0:P.showNewChatButton)&&I().noGap),children:E===k.oW.none&&(0,n.jsxs)(n.Fragment,{children:[(null==P?void 0:P.showNewChatButton)?(0,n.jsxs)(n.Fragment,{children:[K?null:(0,n.jsx)(NewChatNavButton,{bot:j,disabled:(null==M?void 0:M.isOptimistic)||!1,enableForNoAccessBots:P.enableNewChatButtonForNoAccessBots,hideText:K}),(0,n.jsx)(A.f,{hideText:K,icon:(0,n.jsx)(v.Z,{}),text:T("Share"),onClick:W})]}):q(!K),K&&(0,n.jsx)(SignupButton,{className:(null==P?void 0:P.showNewChatButton)?void 0:I().signUpButton,signupWallTriggerSource:u.dh.navBarSignupButton})]})}),[E,q,j,W,null==P?void 0:P.showNewChatButton,null==M?void 0:M.isOptimistic,T,K,P.enableNewChatButtonForNoAccessBots]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S.Z,{leftNavItem:z,rightNavItem:Y,useChatTitle:b,children:c}),!w&&(0,n.jsx)(chat_ChatPageNavActionBar,{bot:j}),Z&&(0,n.jsx)(chat_ChatOfflineBanner,{}),j.isDown&&(0,n.jsx)(bot_BotDownBanner,{}),(0,n.jsx)(p.Z,{isOpen:D,onRequestClose:L,body:importShareBotOrChatModal,bodyProps:G,variant:"compact"})]})},chat_ChatMainNavbar=e=>(0,n.jsx)(chat_ChatPageNavbar,{toggleSidebarButton:(0,n.jsx)(i.Z,{}),hideActionBar:!0,...e})},72061:function(e,t,a){"use strict";a.d(t,{E:function(){return ChatPrivacyIndicator},S:function(){return ChatPrivacyIndicatorIcon}});var n=a(85893),i=a(41664),r=a.n(i);a(67294);var o=a(22120),s=a(22578),c=a(51008),l=a(65492),d=a(55625),u=a(68318),h=a.n(u);let ChatPrivacyIndicatorIcon=e=>{let{chat:t,hasDescription:i=!1}=e,{membersIncludeUntrustedBot:r}=(0,s.useFragment)(a(14735),t),o=i?h().shieldIconHasDescription:h().shieldIcon;return(0,n.jsx)("div",{className:h().shieldContainer,children:r?(0,n.jsx)(l.Z,{className:o}):(0,n.jsx)(c.Z,{className:o})})},ChatPrivacyIndicator=e=>{let{chat:t}=e,{membersIncludeUntrustedBot:i,...c}=(0,s.useFragment)(a(36900),t),{t:l}=(0,o.$G)();return(0,n.jsxs)("div",{className:h().privateMessageContainer,children:[(0,n.jsx)(ChatPrivacyIndicatorIcon,{chat:c,hasDescription:!0}),(0,n.jsxs)("p",{className:h().privateMessageText,children:[l(i?"This chat can't be read by other users but contains external server bots; anonymized chats may be used for LLM training.":"This chat can't be read by other users.")," ",(0,n.jsx)(r(),{href:(0,d.qm)("/privacy_center"),className:h().privateMessageLink,target:"_blank",children:l("Learn more")}),"."]})]})}},46898:function(e,t,a){"use strict";a.d(t,{f:function(){return NavButton}});var n=a(85893),i=a(67294),r=a(69295),o=a(25533),s=a(12477),c=a.n(s);function NavButton(e){let{text:t,icon:a,hideText:s,...l}=e,d=function(e){let[t,a]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let t=window.matchMedia(e),documentChangeHandler=()=>a(t.matches);return a(t.matches),t.addEventListener("change",documentChangeHandler),()=>{t.removeEventListener("change",documentChangeHandler)}},[e]),t}("(max-width: 42.75rem)"),u=d||s,[h,m]=(0,i.useState)(null);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.t9,{ref:m,...l,icon:a,size:u?"md":"sm",className:c().button,"aria-label":t,children:u?null:(0,n.jsx)("span",{className:c().text,children:t})}),u?(0,n.jsx)(o.Z,{anchorRef:h,label:t}):null]})}},9795:function(e,t,a){"use strict";var n=a(85893);a(67294);var i=a(53968),r=a(34616),o=a(44735),s=a.n(o),c=a(10504),l=a.n(c);t.Z=e=>{let{className:t,children:a,isChecked:o=!1,isDisabled:c=!1,...d}=e,u=(0,r.$)(s().label,c?s().isDisabled:null,o?l().isChecked:null,c?l().isDisabled:null,t),h=(0,r.$)(s().inputImage,l().inputImage);return(0,n.jsxs)("label",{className:u,children:[(0,n.jsx)("input",{className:s().input,type:"checkbox",disabled:c,checked:o,...d}),(0,n.jsx)("div",{className:h,children:o&&(0,n.jsx)(i.Z,{})}),a&&(0,n.jsx)("div",{className:l().text,children:a})]})}},6997:function(e,t,a){"use strict";a.d(t,{v:function(){return copyToClipboard}});let copyToClipboard=async(e,t)=>{let a=Promise.resolve(e);if(void 0!==window.ClipboardItem){let e=new window.ClipboardItem({"text/plain":a.then(e=>new Blob([e],{type:"text/plain"}))});try{return await navigator.clipboard.write([e]),!0}catch(e){return t&&t(),!1}}else try{let e=window.document.createElement("textarea");window.document.body.appendChild(e),e.value=await a,e.select();let n=window.document.execCommand("copy");return n||(e.focus(),e.setSelectionRange(0,99999),n=window.document.execCommand("copy")),e.remove(),!n&&t&&t(),n}catch(e){return t&&t(),!1}}},50141:function(e,t,a){"use strict";a.d(t,{Br:function(){return MultiselectProvider},oW:function(){return i}});var n,i,r=a(85893),o=a(67294);(n=i||(i={}))[n.none=0]="none",n[n.share=1]="share",n[n.delete=2]="delete";let s=(0,o.createContext)(0),c=(0,o.createContext)(()=>{}),l=(0,o.createContext)([]),d=(0,o.createContext)(()=>{}),MultiselectProvider=e=>{let{children:t}=e,[a,n]=(0,o.useState)(0),[i,u]=(0,o.useState)([]);return(0,r.jsx)(s.Provider,{value:a,children:(0,r.jsx)(c.Provider,{value:n,children:(0,r.jsx)(l.Provider,{value:i,children:(0,r.jsx)(d.Provider,{value:u,children:t})})})})};t.ZP=()=>{let e=(0,o.useContext)(s),t=(0,o.useContext)(c),a=(0,o.useContext)(l),n=(0,o.useContext)(d),i=(0,o.useCallback)(e=>{n(t=>[...t,e])},[n]),r=(0,o.useCallback)(e=>{n(t=>t.filter(t=>t!==e))},[n]),u=(0,o.useCallback)(e=>{a.includes(e)?r(e):i(e)},[a,r,i]),h=(0,o.useCallback)(()=>{n([])},[n]),m=(0,o.useMemo)(()=>0!==e,[e]);return{selectionMode:e,selectedIds:a,setSelectionMode:t,addSelection:i,removeSelection:r,toggleSelection:u,clearSelection:h,isSelecting:m}}},12477:function(e){e.exports={button:"NavButton_button__UGi6m",text:"NavButton_text__vHYkD"}},10504:function(e){e.exports={text:"checkbox_text__PtYHd",inputImage:"checkbox_inputImage__LWAWc",isChecked:"checkbox_isChecked__Bl3pv",isDisabled:"checkbox_isDisabled__bOKCs"}},44735:function(e){e.exports={label:"checkbox-and-radio_label__4Tf7Q",input:"checkbox-and-radio_input__X_Vcu",isDisabled:"checkbox-and-radio_isDisabled__jN6IM",inputImage:"checkbox-and-radio_inputImage__ennkz"}},3108:function(e){e.exports={botDownBanner:"BotDownBanner_botDownBanner__gn4_i"}},62124:function(e){e.exports={sectionContainer:"BotInfoCard_sectionContainer__S96Qf",footer:"BotInfoCard_footer__dJq_v",hr:"BotInfoCard_hr__MBnAS",link:"BotInfoCard_link__Uq_G8",infoIcon:"BotInfoCard_infoIcon__vmWak",actionBar:"BotInfoCard_actionBar__dAMHR"}},81173:function(e){e.exports={privateMessageContainer:"PrivateMessageIndicator_privateMessageContainer__LektE",privateMessageText:"PrivateMessageIndicator_privateMessageText__BosYz",shieldContainer:"PrivateMessageIndicator_shieldContainer__BiUve",shieldIcon:"PrivateMessageIndicator_shieldIcon__b_J0B",shieldIconHasDescription:"PrivateMessageIndicator_shieldIconHasDescription__rsFdu",privateMessageLink:"PrivateMessageIndicator_privateMessageLink__CPJeg"}},49750:function(e){e.exports={boldTitle:"ChatHeader_boldTitle__TK9mB",clickable:"ChatHeader_clickable__7fBYF",subText:"ChatHeader_subText__JcFh3",overflow:"ChatHeader_overflow__aVkfq",textOverflow:"ChatHeader_textOverflow__8Kqkz",subTextContainer:"ChatHeader_subTextContainer___Myba",chatContextOptimizationIcon:"ChatHeader_chatContextOptimizationIcon__XRw9c"}},96333:function(e){e.exports={offlineBanner:"ChatOfflineBanner_offlineBanner__KOexN"}},13827:function(e){e.exports={container:"ChatPageNavActionBar_container__PVN0U"}},57031:function(e){e.exports={endSelectionButton:"ChatPageNavbar_endSelectionButton__V5yoM",shareButton:"ChatPageNavbar_shareButton__QuaBY",noTextShareButton:"ChatPageNavbar_noTextShareButton__Y7z4N",rightNavItemWrapper:"ChatPageNavbar_rightNavItemWrapper__hlLkg",noGap:"ChatPageNavbar_noGap__hAhid",signUpButton:"ChatPageNavbar_signUpButton__xp_SZ",shareTextWrapper:"ChatPageNavbar_shareTextWrapper__yHoeV",shareText:"ChatPageNavbar_shareText__Gm0Zc",closeIcon:"ChatPageNavbar_closeIcon__eqA3l"}},68318:function(e){e.exports={privateMessageContainer:"ChatPrivacyIndicator_privateMessageContainer__khF32",privateMessageText:"ChatPrivacyIndicator_privateMessageText__wp_vg",shieldContainer:"ChatPrivacyIndicator_shieldContainer__8b4lV",shieldIcon:"ChatPrivacyIndicator_shieldIcon__4JelG",shieldIconHasDescription:"ChatPrivacyIndicator_shieldIconHasDescription__Dfl_a",privateMessageLink:"ChatPrivacyIndicator_privateMessageLink__w6GYQ"}},73558:function(e){e.exports={button:"SignupButton_button__SIoZv",signUpText:"SignupButton_signUpText__fkmlf"}}}]);