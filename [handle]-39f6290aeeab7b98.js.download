(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6616],{25987:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[handle]",function(){return n(59335)}])},35568:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"HandleBotLandingPageInner_bot",selections:[{kind:"ScalarField",name:"displayName"},{kind:"FragmentSpread",name:"OptimisticChatPageColumn_bot"},{kind:"FragmentSpread",name:"ChatPageNavbar_bot"}],type:"Bot"};t.hash="e6a5bf73ef300e089e937ebf19ac3f70",a.default=t},26665:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HandleBotLandingPageInner_chatEdges",selections:[{kind:"FragmentSpread",name:"OptimisticChatPageColumn_chatEdges"}],type:"ChatEdge"};t.hash="824b2a0064848a80b965cd10d42e473d",a.default=t},58315:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"HandleBotLandingPageInner_viewer",selections:[{kind:"FragmentSpread",name:"SprigSurvey_viewer"},{kind:"FragmentSpread",name:"OptimisticChatPageColumn_viewer"}],type:"Viewer"};t.hash="9f576b73b6fbd627652bff8383160485",a.default=t},56629:function(e,a,n){"use strict";var t,i,o,l,r,d,s,c,m,g,u,_,p,k,b,F;n.r(a);let h=(t=[{defaultValue:null,kind:"LocalArgument",name:"botHandle"},{defaultValue:null,kind:"LocalArgument",name:"inviteCode"}],i=[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"name",variableName:"botHandle"}],o={kind:"ScalarField",name:"displayName"},l={kind:"ScalarField",name:"isDeleted"},r={kind:"ScalarField",name:"viewerIsCreator"},s={kind:"ScalarField",name:"cursor"},c={kind:"ScalarField",name:"__typename"},m={concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},g={kind:"ScalarField",name:"uid"},u={kind:"ScalarField",name:"botId"},_={kind:"ScalarField",name:"id"},p={kind:"ScalarField",name:"handle"},k={kind:"TypeDiscriminator",abstractKey:"__isNode"},b=[{kind:"Literal",name:"first",value:1},d={kind:"Variable",name:"handle",variableName:"botHandle"}],{fragment:{argumentDefinitions:t,kind:"Fragment",name:"HandleBotLandingPageQuery",selections:[{args:i,concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[o,l,r,{kind:"FragmentSpread",name:"HandleBotLandingPageInner_bot"},{kind:"FragmentSpread",name:"LoggedOutBotLandingPageInner_bot"}]},{alias:"chats",args:[d],concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryList_queryRoot_chats_connection",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"FragmentSpread",name:"HandleBotLandingPageInner_chatEdges"},s,{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[c]}]},m]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[g,{kind:"FragmentSpread",name:"HandleBotLandingPageInner_viewer"},{kind:"FragmentSpread",name:"LoggedOutBotLandingPageInner_viewer"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"HandleBotLandingPageQuery",selections:[{args:i,concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[o,l,r,u,{kind:"ScalarField",name:"model"},{kind:"ScalarField",name:"uploadFileSizeLimit"},{kind:"ScalarField",name:"allowsImageAttachments"},{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[{kind:"ScalarField",name:"numRemainingMessages"},{kind:"ScalarField",name:"shouldShowReminderBanner"},_,{kind:"ScalarField",name:"displayMessagePointPrice"},{kind:"ScalarField",name:"remainingMessagesLimitReason"},{kind:"ScalarField",name:"balanceTooltipText"},{kind:"ScalarField",name:"balanceTooltipType"}]},_,{kind:"ScalarField",name:"isCreatedByPoeUserAccount"},{kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"deletionState"},{kind:"ScalarField",name:"canUserAccessBot"},{kind:"ScalarField",name:"noAccessMessage"},{kind:"ScalarField",name:"allowsClearContext"},{kind:"ScalarField",name:"conversationStarters"},{kind:"ScalarField",name:"isOfficialBot"},p,{kind:"ScalarField",name:"followerCount"},{kind:"ScalarField",name:"monthlyActiveUsers"},{kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[l,{args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{kind:"ScalarField",name:"fullName"},{alias:"nullableHandle",kind:"ScalarField",name:"handle"},_,k]},{kind:"LinkedField",name:"picture",plural:!1,selections:[c,{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{kind:"ScalarField",name:"description"},{kind:"ScalarField",name:"translatedBotTags"},{kind:"ScalarField",name:"poweredBy"},{kind:"ScalarField",name:"viewerIsFollower"},{kind:"ScalarField",name:"shareLink"},{kind:"ScalarField",name:"promptPlaintext"},{kind:"ScalarField",name:"shouldHide"},{kind:"ScalarField",name:"introduction"},{kind:"ScalarField",name:"messageTimeoutSecs"},{kind:"ScalarField",name:"isApiBot"},{kind:"ScalarField",name:"limitedAccessType"},{kind:"ScalarField",name:"shouldHideLimitedAccessTag"},{kind:"ScalarField",name:"mayHaveSuggestedReplies"},{kind:"ScalarField",name:"supportsResend"},{kind:"ScalarField",name:"supportsRemix"},{concreteType:"Bot",kind:"LinkedField",name:"animateToVideoBot",plural:!1,selections:[u,_,p]},{kind:"ScalarField",name:"shouldConfirmBeforeAddingAsMember"},{kind:"ScalarField",name:"isServerBot"},{kind:"ScalarField",name:"supportsFileUpload"},{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"isTrustedBot"},{kind:"ScalarField",name:"shouldIndexForExternalSearch"},k]},{args:b,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"title"},_,c]},s,_]},m,_]},{args:b,filters:["handle"],handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[g,{concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[g,{kind:"ScalarField",name:"creationTime"},_]},{kind:"ScalarField",name:"hasRecentlyUnsubscribed"},{alias:"enableCodePreview",args:[{kind:"Literal",name:"gateName",value:"poe_web_codeblock_preview"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_codeblock_preview")'},{alias:"enableImageViewer",args:[{kind:"Literal",name:"gateName",value:"poe_web_image_viewer"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_image_viewer")'},{alias:"enableMath",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_markdown_math"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_markdown_math")'},{kind:"ScalarField",name:"promptBotImageDomainWhitelist"},{alias:"poeMessageDropdownImageOptions",args:[{kind:"Literal",name:"gateName",value:"poe_message_dropdown_image_options"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_message_dropdown_image_options")'},{alias:"showMessageInfo",args:[{kind:"Literal",name:"gateName",value:"poe_show_message_cost"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_show_message_cost")'},{alias:"enableImageAttachmentsForBots",args:[{kind:"Literal",name:"gateName",value:"poe_enable_image_attachments_for_bots"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_image_attachments_for_bots")'},{alias:"enableVideoAttachmentsForBots",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_video_player"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_video_player")'},{alias:"enableAudioAttachmentsForBots",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_audio_player"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_audio_player")'},{concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{kind:"ScalarField",name:"isActive"},_,{kind:"ScalarField",name:"expiresTime"},{kind:"ScalarField",name:"willCancelAtPeriodEnd"},{kind:"ScalarField",name:"purchaseRevocationReason"},{kind:"ScalarField",name:"planType"}]},{kind:"ScalarField",name:"isEligibleForWebSubscriptions"},{kind:"ScalarField",name:"shouldSeeWebSubscriptionAnnouncement"},{kind:"ScalarField",name:"shouldSeeAndroidSubscriptionAnnouncement"},{kind:"ScalarField",name:"shouldSeeResponseSpeedUpsell"},{alias:"subscribeEnhancedConversionProperties",args:[{kind:"Literal",name:"poePaidAcqEvent",value:"Subscribe"}],kind:"ScalarField",name:"googleTagManagerEnhancedConversionProperties",storageKey:'googleTagManagerEnhancedConversionProperties(poePaidAcqEvent:"Subscribe")'},{alias:"monthlySubscribeEnhancedConversionProperties",args:[{kind:"Literal",name:"poePaidAcqEvent",value:"MonthlySubscribe"}],kind:"ScalarField",name:"googleTagManagerEnhancedConversionProperties",storageKey:'googleTagManagerEnhancedConversionProperties(poePaidAcqEvent:"MonthlySubscribe")'},{alias:"yearlySubscribeEnhancedConversionProperties",args:[{kind:"Literal",name:"poePaidAcqEvent",value:"YearlySubscribe"}],kind:"ScalarField",name:"googleTagManagerEnhancedConversionProperties",storageKey:'googleTagManagerEnhancedConversionProperties(poePaidAcqEvent:"YearlySubscribe")'},{alias:"enableGTMEventSending",args:[{kind:"Literal",name:"gateName",value:"poe_enable_event_sending_through_google_tag_manager"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_event_sending_through_google_tag_manager")'},{alias:"isPrivateDeletedBotsChangesEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_private_deleted_bots_changes"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_private_deleted_bots_changes")'},{alias:"useNewFollowupActions",args:[{kind:"Literal",name:"gateName",value:"poe_use_new_message_followup_actions_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_new_message_followup_actions_web")'},{alias:"enableRemixButton",args:[{kind:"Literal",name:"gateName",value:"poe_remix_button_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_remix_button_web")'},{alias:"enableCompareFollowup",args:[{kind:"Literal",name:"gateName",value:"poe_enable_compare_followup_action"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_compare_followup_action")'},{alias:"enableOnlyAnimateFollowupAction",args:[{kind:"Literal",name:"gateName",value:"poe_enable_only_animate_followup_action"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_only_animate_followup_action")'},{kind:"ScalarField",name:"isEligibleToPurchaseOnAnyPlatform"},{kind:"ScalarField",name:"viewerCountryCode"},{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{kind:"ScalarField",name:"messagePointResetTime"},{kind:"ScalarField",name:"subscriberBonusGrantResetTime"},_]},{alias:"enableAttachmentTruncationToast",args:[{kind:"Literal",name:"gateName",value:"poe_enable_attachment_truncation_toast"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_attachment_truncation_toast")'},{alias:"showChatBreakMoreOptionsMenu",args:[{kind:"Literal",name:"gateName",value:"poe_web_more_discoverable_context_clear_delete"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_more_discoverable_context_clear_delete")'},{alias:"decoupleBotHandleAndName",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_handle_display_name_decoupling"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_handle_display_name_decoupling")'},_,{alias:"enableBotInfoCardOverflowMenuChanges",args:[{kind:"Literal",name:"gateName",value:"poe_enable_bot_info_card_action_bar_changes"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_bot_info_card_action_bar_changes")'},{concreteType:"Bot",kind:"LinkedField",name:"defaultBot",plural:!1,selections:[u,_]},{alias:"enableInputAreaForNoAccessBots",args:F=[{kind:"Literal",name:"gateName",value:"poe_web_enable_private_deleted_bots_changes_p2"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_private_deleted_bots_changes_p2")'},{alias:"isMultibotEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_multibot_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_multibot_web")'},{alias:"isFilePasteEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_file_paste"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_file_paste")'},{alias:"enableEncourageAtMention",args:[{kind:"Literal",name:"gateName",value:"poe_web_input_field_encourage_at_mention"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_input_field_encourage_at_mention")'},{alias:"showNewChatButton",args:[{kind:"Literal",name:"gateName",value:"poe_web_more_discoverable_create_new_chat_button"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_more_discoverable_create_new_chat_button")'},{alias:"enableNewChatButtonForNoAccessBots",args:F,kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_private_deleted_bots_changes_p2")'},{alias:"enablePayByContext",args:[{kind:"Literal",name:"gateName",value:"poe_enable_pay_by_context"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_pay_by_context")'}]}]},params:{id:"c1e1f90ea257a26d183d6a958117132421196ac0d2438d38d8dab9320e7f92c8",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["chats"]}]},name:"HandleBotLandingPageQuery",operationKind:"query",text:null}});h.hash="99a4e7a2610f01754f05b7f1f5510af4",a.default=h},34253:function(e,a,n){"use strict";var t,i,o;n.r(a);let l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],kind:"Fragment",name:"HandleBotOptimisticChatHeaderQuery",selections:[{kind:"ClientExtension",selections:[{args:i=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatHeader_chat"}]}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"HandleBotOptimisticChatHeaderQuery",selections:[{kind:"ClientExtension",selections:[{args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[o={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"isOptimistic"},{kind:"ScalarField",name:"isContextOptimizationOn"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"deletionState"},{kind:"ScalarField",name:"displayName"},{kind:"LinkedField",name:"picture",plural:!1,selections:[{kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{kind:"ScalarField",name:"isTrustedBot"},o]},{kind:"ScalarField",name:"botMembersCount"},{kind:"ScalarField",name:"membersIncludeUntrustedBot"},{kind:"TypeDiscriminator",abstractKey:"__isNode"}]}]}]},params:{cacheID:"d940a28fe531437684fe7263121ea42b",id:null,metadata:{},name:"HandleBotOptimisticChatHeaderQuery",operationKind:"query",text:null}};l.hash="ccb42017d2fad2fb8bdc3521c4a4a5bd",a.default=l},73747:function(e,a,n){"use strict";var t,i;n.r(a);let o={argumentDefinitions:[],kind:"Fragment",name:"LoggedOutBotLandingPageInner_bot",selections:[{kind:"ScalarField",name:"description"},{kind:"FragmentSpread",name:"LoggedOutBotLandingPageInner_useBotOpengraphProperties_bot"},{kind:"FragmentSpread",name:"LoggedOutBotLandingPageInner_useBotTwitterCardProperties_bot"},{kind:"ScalarField",name:"shouldIndexForExternalSearch"},{kind:"FragmentSpread",name:"BotInfoCard_bot"},{kind:"FragmentSpread",name:"ChatPageNavbar_bot"},{kind:"InlineDataFragmentSpread",name:"optimisticChat_createOptimisticChat_bot",selections:[t={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"introduction"},i={kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"isTrustedBot"},{kind:"InlineDataFragmentSpread",name:"optimisticMessage_createOptimisticBotMessage_bot",selections:[i,{kind:"InlineDataFragmentSpread",name:"localMessage_createLocalChatMessage_bot",selections:[t,{kind:"FragmentSpread",name:"ChatMessage_bot"},{kind:"FragmentSpread",name:"ChatLastMessageArea_bot"},{kind:"FragmentSpread",name:"ChatPageMain_targetedBot"}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};o.hash="4957f411230479cc3f8a4ac718be46d6",a.default=o},16102:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"LoggedOutBotLandingPageInner_useBotOpengraphProperties_bot",selections:[{kind:"ScalarField",name:"displayName"},{kind:"ScalarField",name:"shareLink"},{kind:"ScalarField",name:"description"},{kind:"FragmentSpread",name:"LoggedOutBotLandingPageInner_useProfileImageUrl_bot"},{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};t.hash="89c69d8dc4cd26c240e7fd9fd0716157",a.default=t},7795:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"LoggedOutBotLandingPageInner_useBotTwitterCardProperties_bot",selections:[{kind:"ScalarField",name:"shareLink"},{kind:"ScalarField",name:"description"},{kind:"FragmentSpread",name:"LoggedOutBotLandingPageInner_useProfileImageUrl_bot"},{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};t.hash="13905bc2b4c06b5211ee2d16c16e1ac4",a.default=t},36317:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"LoggedOutBotLandingPageInner_useProfileImageUrl_bot",selections:[{kind:"FragmentSpread",name:"BotImage_useProfileImage_bot"}],type:"Bot"};t.hash="e0f9591b7967f7be414cc772e5afef3f",a.default=t},42481:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"LoggedOutBotLandingPageInner_viewer",selections:[{kind:"FragmentSpread",name:"BotInfoCard_viewer"},{kind:"FragmentSpread",name:"ChatPageNavbar_viewer"}],type:"Viewer"};t.hash="0ac5f14da5adbd1ba8a0012f8754079b",a.default=t},81571:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"optimisticChat_createOptimisticChat_bot"};t.hash="8a5f6fa386ed45339f328d023b51a418",a.default=t},42050:function(e,a,n){"use strict";var t=n(85893),i=n(30791),o=n(34616),l=n(74929),r=n(37115),d=n(11781),s=n.n(d);a.Z=e=>{let{header:a,startAtBottom:n,children:d,disallowScroll:c,noMaxWidth:m=!1}=e,{elementProps:g,providerProps:u}=(0,i.GO)(),_=(0,r.F)(),p=!(0,l.k6)(_)&&s().scrollSectionOverflow;return(0,t.jsxs)(t.Fragment,{children:[a,(0,t.jsx)(i.yp,{...u,children:(0,t.jsx)("div",{className:(0,o.$)(s().scrollSection,n&&s().startAtBottom,p,c&&s().disallowScroll),...g,children:(0,t.jsx)("div",{className:(0,o.$)(s().column,m&&s().noMaxWidth),children:d})})})]})}},55554:function(e,a,n){"use strict";n.d(a,{F:function(){return useCreateOptimisticChat},t:function(){return useOptimisticChat}});var t=n(41143),i=n.n(t),o=n(67294),l=n(22578),r=n(44311),d=n(89083),s=n(8611),c=n(64076);let gen_random_number=()=>Math.floor(1e9*Math.random()),getOptimisticChatId=e=>"OPTIMISTIC_CHAT_".concat(e),getOptimisticMessagesConnectionId=e=>r.ConnectionHandler.getConnectionID(e,"ChatMessagesView_chat_messagesConnection"),getOptimisticMessagePageInfoId=e=>"".concat(e,"_MESSAGE_PAGE_INFO"),getOptimisticMemberPageInfoId=e=>"".concat(e,"_MEMBER_PAGE_INFO"),getOptimisticIntroMessageEdgeId=e=>"".concat(e,"_INTRO_MESSAGE_EDGE"),getOptimisticMembersConnectionId=e=>"".concat(e,"_MEMBERS_CONNECTION"),getOptimisticBotMemberEdgeId=e=>"".concat(e,"_BOT_MEMBER_EDGE"),useOptimisticChat=(e,a)=>{let n=useCreateOptimisticChat(e),[t]=(0,o.useState)(()=>a||n());return t},useCreateOptimisticChat=e=>{let a=(0,l.useRelayEnvironment)();return(0,o.useCallback)(()=>createOptimisticChat({environment:a,bot:e}),[a,e])},createOptimisticChat=e=>{let a,t,{environment:o,bot:l}=e;return(0,r.commitLocalUpdate)(o,e=>{let{id:o,nickname:m,introduction:g,isTrustedBot:u,..._}=(0,r.readInlineData)(n(81571),l),p=e.get(o);for(i()(p,"botRecord is ".concat(p));!a||e.get(a);)a=getOptimisticChatId(t=gen_random_number());let k=e.create(a,"Chat");k.setValue(a,"id"),k.setValue(a,"chatId"),k.setValue("","chatCode"),k.setValue(!0,"isOptimistic"),k.setValue(m,"defaultBotNickname"),k.setValue(1e3*Date.now(),"creationTime"),k.setValue(1e3*Date.now(),"lastInteractionTime"),k.setValue(null,"title"),k.setValue(!0,"shouldShowDisclaimer"),k.setValue(1e3*Date.now(),"creationTime"),k.setValue(!p.getValue("isTrustedBot"),"membersIncludeUntrustedBot"),k.setValue(!u,"membersIncludeUntrustedBot"),k.setLinkedRecord(p,"defaultBotObject");let b=g?(0,c.dS)(e,{text:g,state:s.Z.complete,bot:_,contentType:d.Z.text_markdown}):null,F=g?[b]:[],h=F.map(n=>{i()(a,"chatId is ".concat(a));let t=e.create(getOptimisticIntroMessageEdgeId(a),"MessageEdge");return t.setLinkedRecord(n,"node"),t}),S=e.create(getOptimisticMessagePageInfoId(a),"PageInfo");S.setValue(!1,"hasPreviousPage"),S.setValue(b?b.getDataID():null,"startCursor");let f=e.create(getOptimisticMessagesConnectionId(a),"MessagesConnection");f.setLinkedRecords(h,"edges"),f.setLinkedRecord(S,"pageInfo"),k.setLinkedRecord(f,"messagesConnection",{last:5}),k.setLinkedRecord(f,"__ChatMessagesView_chat_messagesConnection_connection");let C=[e.create(getOptimisticBotMemberEdgeId(a),"ChatMemberEdge")];C[0].setLinkedRecord(p,"node");let y=e.create(getOptimisticMemberPageInfoId(a),"PageInfo");y.setValue(!1,"hasNextPage"),y.setValue(C[0].getDataID(),"endCursor");let w=e.create(getOptimisticMembersConnectionId(a),"ChatMemberConnection");w.setLinkedRecords(C,"edges"),w.setLinkedRecord(y,"pageInfo"),k.setLinkedRecord(w,"membersConnection"),e.getRoot().setLinkedRecord(k,"optimisticChat",{optimisticChatId:a})}),i()(a,"chatId is ".concat(a)),i()(t,"chatIdNumber is ".concat(t)),a}},59335:function(e,a,n){"use strict";n.r(a),n.d(a,{OptimisticChatHeader:function(){return OptimisticChatHeader},default:function(){return P}});var t=n(85893),i=n(11163),o=n(22578);n(44311);var l=n(41143),r=n.n(l),d=n(67294),s=n(47547),c=n(21877),m=n(17323),g=n(42050),u=n(50515),_=n(37650),p=n(55554),k=n(64737),b=n(19951),F=n.n(b);let useProfileImageUrl=e=>{let a=(0,o.useFragment)(n(36317),e),t=(0,s.L)(a);if("string"==typeof t)return t;let i=t.src;return i.startsWith("/")&&(i="https://poe.com"+i),i},useBotTwitterCardProperties=(e,a)=>{let t=(0,o.useFragment)(n(7795),a),{shareLink:i,description:l}=t,s=(0,_.dC)(t),c=useProfileImageUrl(t);return r()(i,"Share link of bot is undefined"),(0,d.useMemo)(()=>({"twitter:card":e,"twitter:site":"@Quora","twitter:url":i,"twitter:title":s+" - Poe","twitter:description":null!=l?l:"","twitter:image":c}),[e,i,s,l,c])},useBotOpengraphProperties=(e,a)=>{let t=(0,o.useFragment)(n(16102),a),{shareLink:i,description:l}=t,s=(0,_.dC)(t),c=useProfileImageUrl(t);return r()(i,"Share link of bot is undefined"),(0,d.useMemo)(()=>({"og:type":e,"og:url":i,"og:title":s+" - Poe","og:description":null!=l?l:"","og:image":c}),[e,i,s,l,c])};var bot_LoggedOutBotLandingPageInner=e=>{let{bot:a,viewer:i}=e,l=(0,o.useFragment)(n(73747),a),r=(0,o.useFragment)(n(42481),i),{description:d,shouldIndexForExternalSearch:s}=l,b=(0,_.dC)(l),h=useBotTwitterCardProperties("summary_large_image",l),S=useBotOpengraphProperties("website",l),f=(0,p.t)(l,void 0);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(g.Z,{header:(0,t.jsx)(m.Z,{viewer:r,bot:l,useChatTitle:!0,children:(0,t.jsx)(OptimisticChatHeader,{optimisticChatId:f})}),children:[(0,t.jsx)(u.Z,{title:(0,k.p)(b),description:d,twittercardProperties:h,opengraphProperties:S,shouldIndexForExternalSearch:s}),(0,t.jsx)("div",{className:F().loggedOutBotInfoCard,children:(0,t.jsx)(c.Z,{bot:l,viewer:r,showFollowerCount:!0,showTalkToBotButton:!0})})]})})},h=n(58097),S=n(91873),f=n(2012),C=n(59583),y=n(46857),w=n(47986),L=n(57138),v=n(50530),I=n(55625);let OptimisticChatHeader=e=>{let{optimisticChatId:a}=e,{optimisticChat:i}=(0,o.useLazyLoadQuery)(n(34253),{optimisticChatId:a});if(!i)throw new L.NotFound;return(0,t.jsx)(h.Z,{chat:i})},BotLandingPageInner=e=>{let{viewer:a,bot:l,optimisticChatId:r,chats:d}=e;if(!l)throw new L.NotFound;let s=(0,o.useFragment)(n(35568),l),c=(0,o.useFragment)(n(26665),d),m=(0,o.useFragment)(n(58315),a),g=(0,i.useRouter)();return(0,y.Rz)(),(0,w.fs)(m),(0,t.jsx)(S.y,{bot:s,chats:c,viewer:m,optimisticChatId:r},g.asPath)},B=(0,C.T)(e=>{let{bot:a,chats:n,viewer:o}=e,l=(0,i.useRouter)(),{isLoggedInUser:r}=(0,f.b)();if(!a){if(!r&&l.query.invite_code)throw new L.RedirectionError((0,I.yv)(l.asPath));throw new L.NotFound}return r?(0,t.jsx)(BotLandingPageInner,{bot:a,chats:n.edges,viewer:o}):(0,t.jsx)(bot_LoggedOutBotLandingPageInner,{bot:a,viewer:o})},{query:n(56629),variables:e=>{let a=null==e?void 0:e.handle;if(!(0,v.H)(a))throw new L.NotFound;let n=e.invite_code;return(0,v.H)(n)||(n=void 0),{botHandle:a,inviteCode:n}}},{shouldIncludeGoogleOneTapPrompt:!0});var P=B},19951:function(e){e.exports={loggedOutBotInfoCard:"LoggedOutBotLandingPageInner_loggedOutBotInfoCard__Qk92J"}},11781:function(e){e.exports={scrollSection:"MainColumn_scrollSection__A9NHB",scrollSectionOverflow:"MainColumn_scrollSectionOverflow__FbPqw",column:"MainColumn_column__UEunw",noMaxWidth:"MainColumn_noMaxWidth__8pWAi",disallowScroll:"MainColumn_disallowScroll__zR9H2",startAtBottom:"MainColumn_startAtBottom__KeM8B"}}},function(e){e.O(0,[1265,9692,1664,5675,6835,3974,8039,6793,1592,1529,4108,5190,2870,3825,7283,9357,4588,7634,2597,1873,9774,2888,179],function(){return e(e.s=25987)}),_N_E=e.O()}]);