"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1873],{64701:function(e,a,n){var i,l,t,d,s,c,r,o,m,k,F,p,u,S,g,y,h,T,C,f,L,b,I,M,A,B,_,P,w,v,O,x,D,K,R,U,N,z,E,H,Q,V,q,j,G,J,W,X,Y,Z,$,ee,ea,en,ei,el,et,ed,es,ec,er;n.r(a);let eo=(i=[{defaultValue:null,kind:"LocalArgument",name:"chatCode"}],l=[{kind:"Variable",name:"chatCode",variableName:"chatCode"}],t={kind:"ScalarField",name:"isDeleted"},d={kind:"ScalarField",name:"title"},s={kind:"ScalarField",name:"deletionState"},c={kind:"ScalarField",name:"isCreatedByPoeUserAccount"},r={kind:"ScalarField",name:"isPrivateBot"},m={kind:"ScalarField",name:"botId"},k={kind:"ScalarField",name:"handle"},F={kind:"ScalarField",name:"canUserAccessBot"},p={kind:"ScalarField",name:"uploadFileSizeLimit"},u={kind:"ScalarField",name:"allowsImageAttachments"},y={concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[S={kind:"ScalarField",name:"numRemainingMessages"},{kind:"ScalarField",name:"shouldShowReminderBanner"},o={kind:"ScalarField",name:"id"},g={kind:"ScalarField",name:"displayMessagePointPrice"},{kind:"ScalarField",name:"remainingMessagesLimitReason"},{kind:"ScalarField",name:"balanceTooltipText"},{kind:"ScalarField",name:"balanceTooltipType"}]},h={kind:"ScalarField",name:"nickname"},T={kind:"ScalarField",name:"displayName"},C={kind:"TypeDiscriminator",abstractKey:"__isNode"},b={kind:"LinkedField",name:"picture",plural:!1,selections:[f={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[L={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},I={kind:"ScalarField",name:"translatedBotTags"},M={kind:"ScalarField",name:"introduction"},A={kind:"ScalarField",name:"messageTimeoutSecs"},B={kind:"ScalarField",name:"isApiBot"},_={kind:"ScalarField",name:"limitedAccessType"},P={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},w={kind:"ScalarField",name:"mayHaveSuggestedReplies"},v={kind:"ScalarField",name:"supportsResend"},O={kind:"ScalarField",name:"supportsRemix"},x={concreteType:"Bot",kind:"LinkedField",name:"animateToVideoBot",plural:!1,selections:[m,o,k]},D={kind:"ScalarField",name:"shouldConfirmBeforeAddingAsMember"},K={kind:"ScalarField",name:"isServerBot"},R={kind:"ScalarField",name:"supportsFileUpload"},U={kind:"ScalarField",name:"text"},N={kind:"ScalarField",name:"state"},z={kind:"ScalarField",name:"author"},E={kind:"ScalarField",name:"textLengthOnCancellation"},H={kind:"ScalarField",name:"vote"},Q={kind:"ScalarField",name:"messageId"},V={kind:"ScalarField",name:"contentType"},q={kind:"ScalarField",name:"clientNonce"},j={alias:"titleText",kind:"ScalarField",name:"title"},G={alias:"bodyText",kind:"ScalarField",name:"body"},J={kind:"ScalarField",name:"attachmentId"},Y={concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[W={kind:"ScalarField",name:"mimeType"},o,X={kind:"ScalarField",name:"size"}]},Z={kind:"ScalarField",name:"name"},ea={kind:"InlineFragment",selections:[ee={kind:"ClientExtension",selections:[$={kind:"ScalarField",name:"isOptimistic"}]}],type:"MessageAttachment"},ei={kind:"LinkedField",name:"primaryImageSources",plural:!0,selections:en=[f,{kind:"TypeDiscriminator",abstractKey:"__isMessageFollowupActionImageSource"},{kind:"InlineFragment",selections:[o,Z,L],type:"MessageAttachment"},{kind:"InlineFragment",selections:[o,k,s,T,b],type:"Bot"},{kind:"InlineFragment",selections:[o],type:"Node",abstractKey:"__isNode"}]},et={kind:"ScalarField",name:"isInChat"},ed={kind:"ScalarField",name:"sourceType"},es={kind:"ScalarField",name:"commandType"},ec={kind:"ScalarField",name:"timeoutLevel"},er=[{kind:"Literal",name:"last",value:5}],{fragment:{argumentDefinitions:i,kind:"Fragment",name:"OptimisticChatPageColumnAfterSuccessfulSendQuery",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"chatOfCode",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatPageColumn_chat"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"OptimisticChatPageColumnAfterSuccessfulSendQuery",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"chatOfCode",plural:!1,selections:[t,d,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[s,{kind:"ScalarField",name:"viewerIsCreator"},c,r,{kind:"ScalarField",name:"viewerIsFollower"},{kind:"ScalarField",name:"followerCount"},o,m,{kind:"ScalarField",name:"shareLink"},k,F,{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"model"},p,u,y,h,T,{kind:"ScalarField",name:"noAccessMessage"},{kind:"ScalarField",name:"allowsClearContext"},{kind:"ScalarField",name:"conversationStarters"},{kind:"ScalarField",name:"isOfficialBot"},{kind:"ScalarField",name:"monthlyActiveUsers"},{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[t,{args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{kind:"ScalarField",name:"fullName"},{alias:"nullableHandle",kind:"ScalarField",name:"handle"},o,C]},b,{kind:"ScalarField",name:"description"},I,{kind:"ScalarField",name:"poweredBy"},{kind:"ScalarField",name:"promptPlaintext"},{kind:"ScalarField",name:"shouldHide"},M,A,B,_,P,w,v,O,x,D,K,R,{kind:"ScalarField",name:"hasMarkdownRendering"},{kind:"ScalarField",name:"isTrustedBot"},C]},{kind:"ScalarField",name:"chatId"},o,{kind:"ScalarField",name:"chatCode"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[U,N,{kind:"ScalarField",name:"attachmentTruncationState"},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[M,m,y,o,c,h,T,r,w,v,O,x,s,B,A,u,_,P,I,b,k,F,D,K,p,R,C]},z,o,E,H,Q,V,q,{kind:"LinkedField",name:"followupActions",plural:!0,selections:[f,{kind:"TypeDiscriminator",abstractKey:"__isMessageFollowupActionBase"},d,{kind:"InlineFragment",selections:[j,G,{kind:"ScalarField",name:"sendText"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"sendAttachments",plural:!0,selections:[J,o,{kind:"InlineFragment",selections:[Y,Z,L,ea],type:"Attachment",abstractKey:"__isAttachment"}]},ei,el={kind:"LinkedField",name:"secondaryImageSources",plural:!0,selections:en},{concreteType:"MessageFollowUpTargetBotInfo",kind:"LinkedField",name:"targetBotInfo",plural:!1,selections:[et,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[o,{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[g,o,S]},m,h,T,k,D]}]},{concreteType:"SendMessageFollowupActionMessageSource",kind:"LinkedField",name:"messageSource",plural:!1,selections:[ed,{kind:"ScalarField",name:"metadata"}]}],type:"SendMessageFollowupAction"},{kind:"InlineFragment",selections:[j,G,{kind:"ScalarField",name:"prefillText"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"prefillAttachments",plural:!0,selections:[J,o,L,Z,{kind:"InlineFragment",selections:[Y,ea],type:"Attachment",abstractKey:"__isAttachment"}]},ei,el],type:"PrefillMessageFollowupAction"},{kind:"InlineFragment",selections:[j,G,ei,es,{concreteType:"MessageFollowUpTargetBotInfo",kind:"LinkedField",name:"targetBotInfo",plural:!1,selections:[et,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[m,h,T,{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[S,o]},o,k,D]}]}],type:"CommandMessageFollowupAction"}]},{kind:"ScalarField",name:"suggestedReplies"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[Z,L,o,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[W,o]},J,{kind:"InlineFragment",selections:[{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[X]},ea],type:"Attachment",abstractKey:"__isAttachment"}]},{concreteType:"Bot",kind:"LinkedField",name:"recommendedBots",plural:!0,selections:[m,o]},{kind:"ClientExtension",selections:[$,ec]}]},{args:er,concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[z,o,Q,{kind:"ScalarField",name:"creationTime"},U,N,q,V,ed,{kind:"ScalarField",name:"messageStateText"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[o,J,Z,L,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[X,o,W]},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},L,{kind:"ScalarField",name:"thumbnailUrl"}]},ea],type:"Attachment",abstractKey:"__isAttachment"},ee]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[A,m,u,B,_,P,I,s,T,b,k,F,h,o,C]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[es]},H,{kind:"ScalarField",name:"hasCitations"},E,f,{kind:"ClientExtension",selections:[$,ec,{kind:"ScalarField",name:"errorMessage"}]},C]},o,{kind:"ScalarField",name:"cursor"}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]},o],storageKey:"messagesConnection(last:5)"},{args:er,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},{kind:"ScalarField",name:"isContextOptimizationOn"},{kind:"ScalarField",name:"botMembersCount"},{kind:"ScalarField",name:"membersIncludeUntrustedBot"},ee,C]}]},params:{id:"6b2e3a802605d4f6de19f685a86793640470cb9e51b4e265651da944076ea64c",metadata:{},name:"OptimisticChatPageColumnAfterSuccessfulSendQuery",operationKind:"query",text:null}});eo.hash="0c62c1c7ff3700301507d9d1229e863b",a.default=eo},44534:function(e,a,n){var i,l,t,d,s,c,r,o,m,k,F,p,u,S,g,y,h,T,C,f,L,b,I,M,A,B,_,P,w,v,O,x,D,K,R,U,N,z,E,H,Q,V,q,j,G,J,W,X,Y,Z,$,ee,ea,en,ei,el,et,ed,es,ec;n.r(a);let er=(i=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],l=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],t={kind:"ScalarField",name:"isDeleted"},d={kind:"ScalarField",name:"title"},s={kind:"ScalarField",name:"deletionState"},c={kind:"ScalarField",name:"isCreatedByPoeUserAccount"},r={kind:"ScalarField",name:"isPrivateBot"},m={kind:"ScalarField",name:"botId"},k={kind:"ScalarField",name:"handle"},F={kind:"ScalarField",name:"canUserAccessBot"},p={kind:"ScalarField",name:"uploadFileSizeLimit"},u={kind:"ScalarField",name:"allowsImageAttachments"},y={concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[S={kind:"ScalarField",name:"numRemainingMessages"},{kind:"ScalarField",name:"shouldShowReminderBanner"},o={kind:"ScalarField",name:"id"},g={kind:"ScalarField",name:"displayMessagePointPrice"},{kind:"ScalarField",name:"remainingMessagesLimitReason"},{kind:"ScalarField",name:"balanceTooltipText"},{kind:"ScalarField",name:"balanceTooltipType"}]},h={kind:"ScalarField",name:"nickname"},T={kind:"ScalarField",name:"displayName"},C={kind:"TypeDiscriminator",abstractKey:"__isNode"},b={kind:"LinkedField",name:"picture",plural:!1,selections:[f={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[L={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},I={kind:"ScalarField",name:"translatedBotTags"},M={kind:"ScalarField",name:"introduction"},A={kind:"ScalarField",name:"messageTimeoutSecs"},B={kind:"ScalarField",name:"isApiBot"},_={kind:"ScalarField",name:"limitedAccessType"},P={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},w={kind:"ScalarField",name:"mayHaveSuggestedReplies"},v={kind:"ScalarField",name:"supportsResend"},O={kind:"ScalarField",name:"supportsRemix"},x={concreteType:"Bot",kind:"LinkedField",name:"animateToVideoBot",plural:!1,selections:[m,o,k]},D={kind:"ScalarField",name:"shouldConfirmBeforeAddingAsMember"},K={kind:"ScalarField",name:"isServerBot"},R={kind:"ScalarField",name:"supportsFileUpload"},U={kind:"ScalarField",name:"isOptimistic"},N={kind:"ScalarField",name:"text"},z={kind:"ScalarField",name:"state"},E={kind:"ScalarField",name:"author"},H={kind:"ScalarField",name:"textLengthOnCancellation"},Q={kind:"ScalarField",name:"vote"},V={kind:"ScalarField",name:"messageId"},q={kind:"ScalarField",name:"contentType"},j={kind:"ScalarField",name:"clientNonce"},G={alias:"titleText",kind:"ScalarField",name:"title"},J={alias:"bodyText",kind:"ScalarField",name:"body"},W={kind:"ScalarField",name:"attachmentId"},Z={concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[X={kind:"ScalarField",name:"mimeType"},o,Y={kind:"ScalarField",name:"size"}]},$={kind:"ScalarField",name:"name"},ee={kind:"InlineFragment",selections:[U],type:"MessageAttachment"},en={kind:"LinkedField",name:"primaryImageSources",plural:!0,selections:ea=[f,{kind:"TypeDiscriminator",abstractKey:"__isMessageFollowupActionImageSource"},{kind:"InlineFragment",selections:[o,$,L],type:"MessageAttachment"},{kind:"InlineFragment",selections:[o,k,s,T,b],type:"Bot"},{kind:"InlineFragment",selections:[o],type:"Node",abstractKey:"__isNode"}]},el={kind:"ScalarField",name:"isInChat"},et={kind:"ScalarField",name:"sourceType"},ed={kind:"ScalarField",name:"commandType"},es={kind:"ScalarField",name:"timeoutLevel"},ec=[{kind:"Literal",name:"last",value:5}],{fragment:{argumentDefinitions:i,kind:"Fragment",name:"OptimisticChatPageColumnQuery",selections:[{kind:"ClientExtension",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatPageColumn_chat"}]}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"OptimisticChatPageColumnQuery",selections:[{kind:"ClientExtension",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[t,d,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[s,{kind:"ScalarField",name:"viewerIsCreator"},c,r,{kind:"ScalarField",name:"viewerIsFollower"},{kind:"ScalarField",name:"followerCount"},o,m,{kind:"ScalarField",name:"shareLink"},k,F,{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"model"},p,u,y,h,T,{kind:"ScalarField",name:"noAccessMessage"},{kind:"ScalarField",name:"allowsClearContext"},{kind:"ScalarField",name:"conversationStarters"},{kind:"ScalarField",name:"isOfficialBot"},{kind:"ScalarField",name:"monthlyActiveUsers"},{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[t,{args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{kind:"ScalarField",name:"fullName"},{alias:"nullableHandle",kind:"ScalarField",name:"handle"},o,C]},b,{kind:"ScalarField",name:"description"},I,{kind:"ScalarField",name:"poweredBy"},{kind:"ScalarField",name:"promptPlaintext"},{kind:"ScalarField",name:"shouldHide"},M,A,B,_,P,w,v,O,x,D,K,R,{kind:"ScalarField",name:"hasMarkdownRendering"},{kind:"ScalarField",name:"isTrustedBot"},C]},{kind:"ScalarField",name:"chatId"},U,o,{kind:"ScalarField",name:"chatCode"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[N,z,{kind:"ScalarField",name:"attachmentTruncationState"},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[M,m,y,o,c,h,T,r,w,v,O,x,s,B,A,u,_,P,I,b,k,F,D,K,p,R,C]},E,o,H,U,Q,V,q,j,{kind:"LinkedField",name:"followupActions",plural:!0,selections:[f,{kind:"TypeDiscriminator",abstractKey:"__isMessageFollowupActionBase"},d,{kind:"InlineFragment",selections:[G,J,{kind:"ScalarField",name:"sendText"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"sendAttachments",plural:!0,selections:[W,o,{kind:"InlineFragment",selections:[Z,$,L,ee],type:"Attachment",abstractKey:"__isAttachment"}]},en,ei={kind:"LinkedField",name:"secondaryImageSources",plural:!0,selections:ea},{concreteType:"MessageFollowUpTargetBotInfo",kind:"LinkedField",name:"targetBotInfo",plural:!1,selections:[el,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[o,{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[g,o,S]},m,h,T,k,D]}]},{concreteType:"SendMessageFollowupActionMessageSource",kind:"LinkedField",name:"messageSource",plural:!1,selections:[et,{kind:"ScalarField",name:"metadata"}]}],type:"SendMessageFollowupAction"},{kind:"InlineFragment",selections:[G,J,{kind:"ScalarField",name:"prefillText"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"prefillAttachments",plural:!0,selections:[W,o,L,$,{kind:"InlineFragment",selections:[Z,ee],type:"Attachment",abstractKey:"__isAttachment"}]},en,ei],type:"PrefillMessageFollowupAction"},{kind:"InlineFragment",selections:[G,J,en,ed,{concreteType:"MessageFollowUpTargetBotInfo",kind:"LinkedField",name:"targetBotInfo",plural:!1,selections:[el,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[m,h,T,{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[S,o]},o,k,D]}]}],type:"CommandMessageFollowupAction"}]},{kind:"ScalarField",name:"suggestedReplies"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[$,L,o,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[X,o]},W,{kind:"InlineFragment",selections:[{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[Y]},ee],type:"Attachment",abstractKey:"__isAttachment"}]},{concreteType:"Bot",kind:"LinkedField",name:"recommendedBots",plural:!0,selections:[m,o]},es]},{args:ec,concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[E,o,V,{kind:"ScalarField",name:"creationTime"},N,z,U,j,q,{kind:"ScalarField",name:"errorMessage"},et,{kind:"ScalarField",name:"messageStateText"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[o,W,$,L,U,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[Y,o,X]},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},L,{kind:"ScalarField",name:"thumbnailUrl"}]}],type:"Attachment",abstractKey:"__isAttachment"}]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[A,m,u,B,_,P,I,s,T,b,k,F,h,o,C]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[ed]},Q,{kind:"ScalarField",name:"hasCitations"},es,H,f,C]},o,{kind:"ScalarField",name:"cursor"}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]},o],storageKey:"messagesConnection(last:5)"},{args:ec,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},{kind:"ScalarField",name:"isContextOptimizationOn"},{kind:"ScalarField",name:"botMembersCount"},{kind:"ScalarField",name:"membersIncludeUntrustedBot"},C]}]}]},params:{cacheID:"1eb117294783099f4b3e58dcad3ccec4",id:null,metadata:{},name:"OptimisticChatPageColumnQuery",operationKind:"query",text:null}});er.hash="ebf3fbf05e24ce7a92d3f82d81c076c2",a.default=er},79229:function(e,a,n){var i,l;n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"OptimisticChatPageColumn_bot",selections:[{kind:"FragmentSpread",name:"ChatPageMain_bot"},{kind:"FragmentSpread",name:"ChatPageNavbar_bot"},{kind:"InlineDataFragmentSpread",name:"optimisticChat_createOptimisticChat_bot",selections:[i={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"introduction"},l={kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"isTrustedBot"},{kind:"InlineDataFragmentSpread",name:"optimisticMessage_createOptimisticBotMessage_bot",selections:[l,{kind:"InlineDataFragmentSpread",name:"localMessage_createLocalChatMessage_bot",selections:[i,{kind:"FragmentSpread",name:"ChatMessage_bot"},{kind:"FragmentSpread",name:"ChatLastMessageArea_bot"},{kind:"FragmentSpread",name:"ChatPageMain_targetedBot"}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]}],type:"Bot"};t.hash="a69b8e06e81b542bdcccff3b06cb7cf0",a.default=t},86671:function(e,a,n){n.r(a);let i={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"OptimisticChatPageColumn_chatEdges",selections:[{kind:"FragmentSpread",name:"ChatPageMain_chatEdges"}],type:"ChatEdge"};i.hash="792af76506dcb392a2028baf2801f850",a.default=i},44082:function(e,a,n){n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"OptimisticChatPageColumn_viewer",selections:[{kind:"FragmentSpread",name:"ChatPageColumn_viewer"}],type:"Viewer"};i.hash="5f2951eb9967cdfabf848df35068c3e7",a.default=i},91873:function(e,a,n){n.d(a,{y:function(){return OptimisticChatPageColumn}});var i=n(85893),l=n(41143),t=n.n(l),d=n(11163),s=n(67294),c=n(22578);n(44311);var r=n(55554),o=n(57138),m=n(50530),k=n(7634);let useChatCode=()=>{let e=(0,d.useRouter)(),{chat:a}=e.query;return(0,m.H)(a)?a:null},useOptimisticChatPageProps=e=>{let{optimisticChatId:a,bot:i,chats:l,viewer:m}=e,k=(0,c.useFragment)(n(79229),i),F=(0,c.useFragment)(n(86671),l),p=(0,c.useFragment)(n(44082),m),u=(0,r.t)(k,a),{optimisticChat:S}=(0,c.useLazyLoadQuery)(n(44534),{optimisticChatId:u});if(!S)throw new o.NotFound;let g=(0,d.useRouter)(),y=(0,s.useCallback)(e=>{let{messageEdgeCreate:a}=e,n=a.chat;t()(n,"chat is null"),g.push({pathname:g.pathname,query:{...g.query,chat:n.chatCode,botId:n.defaultBotObject.botId}},"/chat/".concat(n.chatCode),{shallow:!0})},[g]);return{viewer:p,chat:S,onSuccessfulMessageSend:y,chats:F}},OptimisticChatPageColumn=e=>{let{optimisticChatId:a,bot:l,chats:t,viewer:d}=e;if(!l)throw new o.NotFound;let r=useOptimisticChatPageProps({bot:l,optimisticChatId:a,chats:t,viewer:d}),m=function(e){let a=useChatCode(),i=(0,c.useLazyLoadQuery)(n(64701),{chatCode:a||""},{fetchPolicy:a?"store-or-network":"store-only"});return(0,s.useMemo)(()=>i.chatOfCode&&e?{chat:i.chatOfCode,viewer:e}:null,[i,e])}(r.viewer),F=m||r;return(0,i.jsx)(k.h,{...F})}}}]);